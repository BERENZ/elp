<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>6 Tekst | Elementarz programisty</title>
  <meta name="description" content="6 Tekst | Elementarz programisty">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="6 Tekst | Elementarz programisty" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="nowosad/my-minimal-bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Tekst | Elementarz programisty" />
  
  
  

<meta name="author" content="Jakub Nowosad">


<meta name="date" content="2019-04-07">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="proste-obiekty.html">
<link rel="next" href="zlozone-obiekty.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Wstęp do programowania w R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>O książce</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#wymagania-wstepne"><i class="fa fa-check"></i>Wymagania wstępne</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#styl-ksiazki"><i class="fa fa-check"></i>Styl książki</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#podziekowania"><i class="fa fa-check"></i>Podziękowania</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="wprowadzenie.html"><a href="wprowadzenie.html"><i class="fa fa-check"></i><b>1</b> Wprowadzenie</a><ul>
<li class="chapter" data-level="1.1" data-path="wprowadzenie.html"><a href="wprowadzenie.html#mity-programistyczne"><i class="fa fa-check"></i><b>1.1</b> Mity programistyczne</a></li>
<li class="chapter" data-level="1.2" data-path="wprowadzenie.html"><a href="wprowadzenie.html#jezyki-programowania"><i class="fa fa-check"></i><b>1.2</b> Języki programowania</a></li>
<li class="chapter" data-level="1.3" data-path="wprowadzenie.html"><a href="wprowadzenie.html#r"><i class="fa fa-check"></i><b>1.3</b> R</a></li>
<li class="chapter" data-level="1.4" data-path="wprowadzenie.html"><a href="wprowadzenie.html#zadania"><i class="fa fa-check"></i><b>1.4</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>I Podstawy</b></span></li>
<li class="chapter" data-level="2" data-path="ergosum.html"><a href="ergosum.html"><i class="fa fa-check"></i><b>2</b> Start R</a><ul>
<li class="chapter" data-level="2.1" data-path="ergosum.html"><a href="ergosum.html#wyrazenia"><i class="fa fa-check"></i><b>2.1</b> Wyrażenia</a></li>
<li class="chapter" data-level="2.2" data-path="ergosum.html"><a href="ergosum.html#obiekty"><i class="fa fa-check"></i><b>2.2</b> Obiekty</a><ul>
<li class="chapter" data-level="2.2.1" data-path="ergosum.html"><a href="ergosum.html#operator-przypisania"><i class="fa fa-check"></i><b>2.2.1</b> Operator przypisania</a></li>
<li class="chapter" data-level="2.2.2" data-path="ergosum.html"><a href="ergosum.html#dzialania-na-obiektach"><i class="fa fa-check"></i><b>2.2.2</b> Działania na obiektach</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ergosum.html"><a href="ergosum.html#ide"><i class="fa fa-check"></i><b>2.3</b> IDE</a></li>
<li class="chapter" data-level="2.4" data-path="ergosum.html"><a href="ergosum.html#styl"><i class="fa fa-check"></i><b>2.4</b> Styl</a><ul>
<li class="chapter" data-level="2.4.1" data-path="ergosum.html"><a href="ergosum.html#nazwy-obiektow"><i class="fa fa-check"></i><b>2.4.1</b> Nazwy obiektów</a></li>
<li class="chapter" data-level="2.4.2" data-path="ergosum.html"><a href="ergosum.html#odstepy"><i class="fa fa-check"></i><b>2.4.2</b> Odstępy</a></li>
<li class="chapter" data-level="2.4.3" data-path="ergosum.html"><a href="ergosum.html#komentarze"><i class="fa fa-check"></i><b>2.4.3</b> Komentarze</a></li>
<li class="chapter" data-level="2.4.4" data-path="ergosum.html"><a href="ergosum.html#nazwy-plikow"><i class="fa fa-check"></i><b>2.4.4</b> Nazwy plików</a></li>
<li class="chapter" data-level="2.4.5" data-path="ergosum.html"><a href="ergosum.html#daty"><i class="fa fa-check"></i><b>2.4.5</b> Daty</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ergosum.html"><a href="ergosum.html#resources"><i class="fa fa-check"></i><b>2.5</b> Dodatkowe materiały</a></li>
<li class="chapter" data-level="2.6" data-path="ergosum.html"><a href="ergosum.html#zadania-1"><i class="fa fa-check"></i><b>2.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="funkcje.html"><a href="funkcje.html"><i class="fa fa-check"></i><b>3</b> Funkcje</a><ul>
<li class="chapter" data-level="3.1" data-path="funkcje.html"><a href="funkcje.html#struktura-funkcji"><i class="fa fa-check"></i><b>3.1</b> Struktura funkcji</a></li>
<li class="chapter" data-level="3.2" data-path="funkcje.html"><a href="funkcje.html#wbudowane-funkcje"><i class="fa fa-check"></i><b>3.2</b> Wbudowane funkcje</a></li>
<li class="chapter" data-level="3.3" data-path="funkcje.html"><a href="funkcje.html#kolejnosc-funkcji"><i class="fa fa-check"></i><b>3.3</b> Kolejność wykonywania funkcji</a></li>
<li class="chapter" data-level="3.4" data-path="funkcje.html"><a href="funkcje.html#dokumentacja-funkcji"><i class="fa fa-check"></i><b>3.4</b> Dokumentacja funkcji</a></li>
<li class="chapter" data-level="3.5" data-path="funkcje.html"><a href="funkcje.html#pakiety"><i class="fa fa-check"></i><b>3.5</b> Pakiety</a></li>
<li class="chapter" data-level="3.6" data-path="funkcje.html"><a href="funkcje.html#algorytmy"><i class="fa fa-check"></i><b>3.6</b> Algorytmy</a></li>
<li class="chapter" data-level="3.7" data-path="funkcje.html"><a href="funkcje.html#tworzenie-skryptow"><i class="fa fa-check"></i><b>3.7</b> Tworzenie skryptów</a></li>
<li class="chapter" data-level="3.8" data-path="funkcje.html"><a href="funkcje.html#budowanie-funkcji"><i class="fa fa-check"></i><b>3.8</b> Budowanie funkcji</a></li>
<li class="chapter" data-level="3.9" data-path="funkcje.html"><a href="funkcje.html#komunikaty"><i class="fa fa-check"></i><b>3.9</b> Komunikaty</a></li>
<li class="chapter" data-level="3.10" data-path="funkcje.html"><a href="funkcje.html#zadania-2"><i class="fa fa-check"></i><b>3.10</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="warunki.html"><a href="warunki.html"><i class="fa fa-check"></i><b>4</b> Wyrażenia warunkowe</a><ul>
<li class="chapter" data-level="4.1" data-path="warunki.html"><a href="warunki.html#warunki-1"><i class="fa fa-check"></i><b>4.1</b> Warunki</a></li>
<li class="chapter" data-level="4.2" data-path="warunki.html"><a href="warunki.html#warunki-zagniezdzone"><i class="fa fa-check"></i><b>4.2</b> Warunki zagnieżdzone</a></li>
<li class="chapter" data-level="4.3" data-path="warunki.html"><a href="warunki.html#operatory-porownania"><i class="fa fa-check"></i><b>4.3</b> Operatory porównania</a></li>
<li class="chapter" data-level="4.4" data-path="warunki.html"><a href="warunki.html#wwwf"><i class="fa fa-check"></i><b>4.4</b> Wyrażenia warunkowe w funkcjach</a></li>
<li class="chapter" data-level="4.5" data-path="warunki.html"><a href="warunki.html#zadania-3"><i class="fa fa-check"></i><b>4.5</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="proste-obiekty.html"><a href="proste-obiekty.html"><i class="fa fa-check"></i><b>5</b> Proste obiekty</a><ul>
<li class="chapter" data-level="5.1" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wektory"><i class="fa fa-check"></i><b>5.1</b> Wektory</a></li>
<li class="chapter" data-level="5.2" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wasciwosci-wektorow"><i class="fa fa-check"></i><b>5.2</b> Właściwości wektorów</a></li>
<li class="chapter" data-level="5.3" data-path="proste-obiekty.html"><a href="proste-obiekty.html#pf-vector"><i class="fa fa-check"></i><b>5.3</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="5.4" data-path="proste-obiekty.html"><a href="proste-obiekty.html#dzialania-na-wektorach"><i class="fa fa-check"></i><b>5.4</b> Działania na wektorach</a></li>
<li class="chapter" data-level="5.5" data-path="proste-obiekty.html"><a href="proste-obiekty.html#na"><i class="fa fa-check"></i><b>5.5</b> Brakujące wartości</a></li>
<li class="chapter" data-level="5.6" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wydzielanie"><i class="fa fa-check"></i><b>5.6</b> Wydzielanie</a></li>
<li class="chapter" data-level="5.7" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wip-vector"><i class="fa fa-check"></i><b>5.7</b> Wydzielanie i przypisanie</a></li>
<li class="chapter" data-level="5.8" data-path="proste-obiekty.html"><a href="proste-obiekty.html#mo-vector"><i class="fa fa-check"></i><b>5.8</b> Modyfikowanie obiektów</a></li>
<li class="chapter" data-level="5.9" data-path="proste-obiekty.html"><a href="proste-obiekty.html#lpto-vector"><i class="fa fa-check"></i><b>5.9</b> Łączenie podstawowych typów obiektów</a></li>
<li class="chapter" data-level="5.10" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zmiana-typow-obiektow"><i class="fa fa-check"></i><b>5.10</b> Zmiana typów obiektów</a></li>
<li class="chapter" data-level="5.11" data-path="proste-obiekty.html"><a href="proste-obiekty.html#fac"><i class="fa fa-check"></i><b>5.11</b> Wektory czynnikowe</a></li>
<li class="chapter" data-level="5.12" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ate"><i class="fa fa-check"></i><b>5.12</b> Wektory dat</a></li>
<li class="chapter" data-level="5.13" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ime"><i class="fa fa-check"></i><b>5.13</b> Wektory czasu</a></li>
<li class="chapter" data-level="5.14" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zadania-4"><i class="fa fa-check"></i><b>5.14</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tekst.html"><a href="tekst.html"><i class="fa fa-check"></i><b>6</b> Tekst</a><ul>
<li class="chapter" data-level="6.1" data-path="tekst.html"><a href="tekst.html#reprezentacja-tekstu"><i class="fa fa-check"></i><b>6.1</b> Reprezentacja tekstu</a></li>
<li class="chapter" data-level="6.2" data-path="tekst.html"><a href="tekst.html#podstawowe-operacje-na-tekscie"><i class="fa fa-check"></i><b>6.2</b> Podstawowe operacje na tekście</a></li>
<li class="chapter" data-level="6.3" data-path="tekst.html"><a href="tekst.html#wt"><i class="fa fa-check"></i><b>6.3</b> Wydzielanie tekstu</a></li>
<li class="chapter" data-level="6.4" data-path="tekst.html"><a href="tekst.html#wyrazenia-regularne"><i class="fa fa-check"></i><b>6.4</b> Wyrażenia regularne</a></li>
<li class="chapter" data-level="6.5" data-path="tekst.html"><a href="tekst.html#wtregex"><i class="fa fa-check"></i><b>6.5</b> Wydzielanie tekstu - regex</a></li>
<li class="chapter" data-level="6.6" data-path="tekst.html"><a href="tekst.html#zamiana-tekstu---regex"><i class="fa fa-check"></i><b>6.6</b> Zamiana tekstu - regex</a></li>
<li class="chapter" data-level="6.7" data-path="tekst.html"><a href="tekst.html#wyszukiwanie-plikow"><i class="fa fa-check"></i><b>6.7</b> Wyszukiwanie plików</a></li>
<li class="chapter" data-level="6.8" data-path="tekst.html"><a href="tekst.html#zadania-5"><i class="fa fa-check"></i><b>6.8</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html"><i class="fa fa-check"></i><b>7</b> Złożone obiekty</a><ul>
<li class="chapter" data-level="7.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#macierze"><i class="fa fa-check"></i><b>7.1</b> Macierze</a><ul>
<li class="chapter" data-level="7.1.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie"><i class="fa fa-check"></i><b>7.1.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.1.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje"><i class="fa fa-check"></i><b>7.1.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.1.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-1"><i class="fa fa-check"></i><b>7.1.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.1.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie"><i class="fa fa-check"></i><b>7.1.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#df"><i class="fa fa-check"></i><b>7.2</b> Ramki danych</a><ul>
<li class="chapter" data-level="7.2.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-1"><i class="fa fa-check"></i><b>7.2.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.2.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-1"><i class="fa fa-check"></i><b>7.2.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.2.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-df"><i class="fa fa-check"></i><b>7.2.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.2.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie-1"><i class="fa fa-check"></i><b>7.2.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#listy"><i class="fa fa-check"></i><b>7.3</b> Listy</a><ul>
<li class="chapter" data-level="7.3.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-2"><i class="fa fa-check"></i><b>7.3.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.3.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-2"><i class="fa fa-check"></i><b>7.3.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.3.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie-2"><i class="fa fa-check"></i><b>7.3.3</b> Łączenie</a></li>
<li class="chapter" data-level="7.3.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-list"><i class="fa fa-check"></i><b>7.3.4</b> Wydzielanie</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zmiany-klas"><i class="fa fa-check"></i><b>7.4</b> Zmiany klas</a></li>
<li class="chapter" data-level="7.5" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#inne-klasy"><i class="fa fa-check"></i><b>7.5</b> Inne klasy obiektów</a></li>
<li class="chapter" data-level="7.6" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zadania-6"><i class="fa fa-check"></i><b>7.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="petle.html"><a href="petle.html"><i class="fa fa-check"></i><b>8</b> Powtarzanie</a><ul>
<li class="chapter" data-level="8.1" data-path="petle.html"><a href="petle.html#petla-for"><i class="fa fa-check"></i><b>8.1</b> Pętla for</a><ul>
<li class="chapter" data-level="8.1.1" data-path="petle.html"><a href="petle.html#skadnia"><i class="fa fa-check"></i><b>8.1.1</b> Składnia</a></li>
<li class="chapter" data-level="8.1.2" data-path="petle.html"><a href="petle.html#for-example"><i class="fa fa-check"></i><b>8.1.2</b> Przykład działania</a></li>
<li class="chapter" data-level="8.1.3" data-path="petle.html"><a href="petle.html#zastosowanie-w-funkcjach"><i class="fa fa-check"></i><b>8.1.3</b> Zastosowanie w funkcjach</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="petle.html"><a href="petle.html#petla-while"><i class="fa fa-check"></i><b>8.2</b> Pętla while</a></li>
<li class="chapter" data-level="8.3" data-path="petle.html"><a href="petle.html#prog-fun"><i class="fa fa-check"></i><b>8.3</b> Programowanie funkcyjne</a></li>
<li class="chapter" data-level="8.4" data-path="petle.html"><a href="petle.html#zadania-7"><i class="fa fa-check"></i><b>8.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i><b>9</b> Wczytywanie i zapisywanie plików</a><ul>
<li class="chapter" data-level="9.1" data-path="io.html"><a href="io.html#folder-roboczy"><i class="fa fa-check"></i><b>9.1</b> Folder roboczy</a></li>
<li class="chapter" data-level="9.2" data-path="io.html"><a href="io.html#dziaania-na-plikach-i-folderach"><i class="fa fa-check"></i><b>9.2</b> Działania na plikach i folderach</a></li>
<li class="chapter" data-level="9.3" data-path="io.html"><a href="io.html#dane-internetowe"><i class="fa fa-check"></i><b>9.3</b> Dane internetowe</a></li>
<li class="chapter" data-level="9.4" data-path="io.html"><a href="io.html#wczytywanie-plikow-tekstowych"><i class="fa fa-check"></i><b>9.4</b> Wczytywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.5" data-path="io.html"><a href="io.html#zapisywanie-plikow-tekstowych"><i class="fa fa-check"></i><b>9.5</b> Zapisywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.6" data-path="io.html"><a href="io.html#formaty-r"><i class="fa fa-check"></i><b>9.6</b> Formaty R</a></li>
<li class="chapter" data-level="9.7" data-path="io.html"><a href="io.html#arkusze-kalkulacyjne"><i class="fa fa-check"></i><b>9.7</b> Arkusze kalkulacyjne</a></li>
<li class="chapter" data-level="9.8" data-path="io.html"><a href="io.html#inne-formaty"><i class="fa fa-check"></i><b>9.8</b> Inne formaty</a></li>
<li class="chapter" data-level="9.9" data-path="io.html"><a href="io.html#zadania-8"><i class="fa fa-check"></i><b>9.9</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>II Przykłady</b></span></li>
<li class="chapter" data-level="10" data-path="przykad-1.html"><a href="przykad-1.html"><i class="fa fa-check"></i><b>10</b> Przykład 1</a></li>
<li class="part"><span><b>III Narzędzia</b></span></li>
<li class="chapter" data-level="11" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html"><i class="fa fa-check"></i><b>11</b> Złożone funkcje</a><ul>
<li class="chapter" data-level="11.1" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#api"><i class="fa fa-check"></i><b>11.1</b> API</a></li>
<li class="chapter" data-level="11.2" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#obsuga-komunikatow"><i class="fa fa-check"></i><b>11.2</b> Obsługa komunikatów</a></li>
<li class="chapter" data-level="11.3" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#oop"><i class="fa fa-check"></i><b>11.3</b> Programowanie obiektowe</a><ul>
<li class="chapter" data-level="11.3.1" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#klasy"><i class="fa fa-check"></i><b>11.3.1</b> Klasy</a></li>
<li class="chapter" data-level="11.3.2" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#metody"><i class="fa fa-check"></i><b>11.3.2</b> Metody</a></li>
<li class="chapter" data-level="11.3.3" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#konstruktory"><i class="fa fa-check"></i><b>11.3.3</b> Konstruktory</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#zadania-9"><i class="fa fa-check"></i><b>11.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="analiza-kodu.html"><a href="analiza-kodu.html"><i class="fa fa-check"></i><b>12</b> Analiza kodu</a><ul>
<li class="chapter" data-level="12.1" data-path="analiza-kodu.html"><a href="analiza-kodu.html#testy-jednostkowe"><i class="fa fa-check"></i><b>12.1</b> Testy jednostkowe</a></li>
<li class="chapter" data-level="12.2" data-path="analiza-kodu.html"><a href="analiza-kodu.html#benchmarking"><i class="fa fa-check"></i><b>12.2</b> Benchmarking</a></li>
<li class="chapter" data-level="12.3" data-path="analiza-kodu.html"><a href="analiza-kodu.html#profiling"><i class="fa fa-check"></i><b>12.3</b> Profiling</a></li>
<li class="chapter" data-level="12.4" data-path="analiza-kodu.html"><a href="analiza-kodu.html#zadania-10"><i class="fa fa-check"></i><b>12.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>13</b> Debugowanie</a><ul>
<li class="chapter" data-level="13.1" data-path="debugging.html"><a href="debugging.html#zadania-11"><i class="fa fa-check"></i><b>13.1</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="lacznik.html"><a href="lacznik.html"><i class="fa fa-check"></i><b>14</b> Łącznik</a><ul>
<li class="chapter" data-level="14.1" data-path="lacznik.html"><a href="lacznik.html#c"><i class="fa fa-check"></i><b>14.1</b> C++</a></li>
<li class="chapter" data-level="14.2" data-path="lacznik.html"><a href="lacznik.html#python"><i class="fa fa-check"></i><b>14.2</b> Python</a></li>
<li class="chapter" data-level="14.3" data-path="lacznik.html"><a href="lacznik.html#zadania-12"><i class="fa fa-check"></i><b>14.3</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html"><i class="fa fa-check"></i><b>15</b> Kontrola wersji</a><ul>
<li class="chapter" data-level="15.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#git"><i class="fa fa-check"></i><b>15.1</b> Git</a><ul>
<li class="chapter" data-level="15.1.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#konfiguracja-systemu-git"><i class="fa fa-check"></i><b>15.1.1</b> Konfiguracja systemu Git</a></li>
<li class="chapter" data-level="15.1.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium"><i class="fa fa-check"></i><b>15.1.2</b> Repozytorium</a></li>
<li class="chapter" data-level="15.1.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#dodawanie-zmian"><i class="fa fa-check"></i><b>15.1.3</b> Dodawanie zmian</a></li>
<li class="chapter" data-level="15.1.4" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#sprawdzanie-zmian"><i class="fa fa-check"></i><b>15.1.4</b> Sprawdzanie zmian</a></li>
<li class="chapter" data-level="15.1.5" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#zatwierdzanie-zmian"><i class="fa fa-check"></i><b>15.1.5</b> Zatwierdzanie zmian</a></li>
<li class="chapter" data-level="15.1.6" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#rozgaezienia"><i class="fa fa-check"></i><b>15.1.6</b> Rozgałęzienia</a></li>
<li class="chapter" data-level="15.1.7" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium-zdalne"><i class="fa fa-check"></i><b>15.1.7</b> Repozytorium zdalne</a></li>
<li class="chapter" data-level="15.1.8" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#wysyanie-zmian"><i class="fa fa-check"></i><b>15.1.8</b> Wysyłanie zmian</a></li>
<li class="chapter" data-level="15.1.9" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#aktualizowanie"><i class="fa fa-check"></i><b>15.1.9</b> Aktualizowanie</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#github"><i class="fa fa-check"></i><b>15.2</b> GitHub</a><ul>
<li class="chapter" data-level="15.2.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#tworzenie-zdanego-repo"><i class="fa fa-check"></i><b>15.2.1</b> Tworzenie zdanego repo</a></li>
<li class="chapter" data-level="15.2.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium-github"><i class="fa fa-check"></i><b>15.2.2</b> Repozytorium GitHub</a></li>
<li class="chapter" data-level="15.2.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#dodatkowe-mozliwosci-github"><i class="fa fa-check"></i><b>15.2.3</b> Dodatkowe możliwości GitHub</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#rstudio-git"><i class="fa fa-check"></i><b>15.3</b> Kontrola wersji w RStudio</a></li>
<li class="chapter" data-level="15.4" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#sposob-pracy"><i class="fa fa-check"></i><b>15.4</b> Sposób pracy</a></li>
<li class="chapter" data-level="15.5" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#zadania-13"><i class="fa fa-check"></i><b>15.5</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html"><i class="fa fa-check"></i><b>16</b> Tworzenie pakietów</a><ul>
<li class="chapter" data-level="16.1" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#rozwijanie-pakietu"><i class="fa fa-check"></i><b>16.1</b> Rozwijanie pakietu</a></li>
<li class="chapter" data-level="16.2" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#dokumentacja-funkcji-1"><i class="fa fa-check"></i><b>16.2</b> Dokumentacja funkcji</a></li>
<li class="chapter" data-level="16.3" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zaleznosci"><i class="fa fa-check"></i><b>16.3</b> Zależności</a></li>
<li class="chapter" data-level="16.4" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#dokumentacja-pakietu"><i class="fa fa-check"></i><b>16.4</b> Dokumentacja pakietu</a></li>
<li class="chapter" data-level="16.5" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#wbudowane-testy"><i class="fa fa-check"></i><b>16.5</b> Wbudowane testy</a></li>
<li class="chapter" data-level="16.6" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#licencje"><i class="fa fa-check"></i><b>16.6</b> Licencje</a></li>
<li class="chapter" data-level="16.7" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#publikowanie-pakietow"><i class="fa fa-check"></i><b>16.7</b> Publikowanie pakietów</a></li>
<li class="chapter" data-level="16.8" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zadania-14"><i class="fa fa-check"></i><b>16.8</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="podsumowanie.html"><a href="podsumowanie.html"><i class="fa fa-check"></i><b>17</b> Podsumowanie</a></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="divider"></li>
<li><a href="https://nowosad.github.io/">Jakub Nowosad</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Elementarz programisty</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tekst" class="section level1">
<h1><span class="header-section-number">6</span> Tekst</h1>
<p>Podstawowymi typami danych w R są wektory logiczne, numeryczne i znakowe (sekcja <a href="proste-obiekty.html#wektory">5.1</a>).
Pierwsze z nich przyjmują dwie formy - <code>TRUE</code> i <code>FALSE</code>, przez co istnieje pewna skończona liczba operacji, które można na nich wykonać.
Wektory numeryczne mogą przyjmować wiele form, ale najczęściej są one przetwarzanie używając podstawowych operacji arytmetycznych, takich jak dodawanie, odejmowanie, mnożenie czy dzielenie.
Wektory znakowe są natomiast najbardziej zróżnicowane - mogę przyjmować różne formy (nawet w zależności od przyjętego alfabetu), w tym pozwalają one także na przechowywanie wartości logicznych czy numerycznych.</p>
<p>Celem tego rozdziału jest przedstawienie najczęściej spotykanych operacji na tekście, takich jak jego wyszukiwanie, wydzielanie czy zamiana.
Więcej na temat przetwarzania tekstu można znaleźć w rozdziale <a href="https://r4ds.had.co.nz/strings.html">“Strings”</a> książki R for Data Science <span class="citation">(Wickham and Grolemund <a href="#ref-wickham2016r">2016</a>)</span>.</p>
<div id="reprezentacja-tekstu" class="section level2">
<h2><span class="header-section-number">6.1</span> Reprezentacja tekstu</h2>
<p>Typ znakowy jest określany poprzez użycie cudzysłowia <code>&quot;</code> lub <code>'</code>.
Ważne tutaj jest, aby rozpoczynać i kończyć tekst tym samym cudzysłowiem.</p>
<pre class="sourceCode r"><code class="sourceCode r">t1 =<span class="st"> &quot;kot&quot;</span>
t2 =<span class="st"> &#39;pies&#39;</span>
t3 =<span class="st"> &#39;&quot;W teorii, teoria i praktyka są tym samym. W praktyce, nie są.&quot; - Yogi Berra&#39;</span></code></pre>
<p>W momencie, gdy tekst nie będzie kończył się cudzysłowiem, wykonanie kodu jest niemożliwe.
Wówczas zamiast znaku <code>&gt;</code>, oznaczającego nową linię wykonywanego kodu, pojawi się znak <code>+</code>.
Oznacza on, że wykonanie kodu nie może zostać zakończone.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> &quot;Mój pierwszy alfabet</span>
<span class="st">+</span>
<span class="st">+</span></code></pre>
<p>W takiej sytuacji należy nacisnąć klawisz Esc, aby przerwać wykonywanie operacji, a następnie poprawić wpisany kod.</p>
</div>
<div id="podstawowe-operacje-na-tekscie" class="section level2">
<h2><span class="header-section-number">6.2</span> Podstawowe operacje na tekście</h2>
<p>Jedną z podstawowych operacji na wektorach znakowych jest ich łączenie.
Do tego celu służy funkcja <code>paste()</code><a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="st">&quot;k&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;t&quot;</span>)
<span class="co">#&gt; [1] &quot;t o   k o t&quot;</span></code></pre>
<p>Efekt działania funkcji <code>paste()</code> jest jeden wektor tekstowy, który składa się z wejściowych wektorów oddzielonych domyślnie spacjami.
Funkcja <code>paste()</code> ma jednak również dodatkowy argument <code>sep</code>, który pozwala na dowolne określanie separatora.
Ostatnim argumentem tej funkcji jest <code>collapse</code>, który łączy elementy jednego wektora tekstowego.</p>
<p>R oferuje też uproszczoną postać tej funkcji o nazwie <code>paste0()</code>, w której nie ma znaku seperatora.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste0</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="st">&quot;k&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;t&quot;</span>)
<span class="co">#&gt; [1] &quot;to kot&quot;</span></code></pre>
<p>Te funkcje są używane w sytuacjach, gdy chcemy połączyć stały, znany tekst, wraz z tekstem wprowadzanym przez użytkownika lub pochodzącym z innego źródła.
Poniżej stworzono dwie nowe zmienne <code>imie</code> i <code>wiek</code>, których treść złączono ze słowami <code>&quot;ma&quot;</code> i <code>&quot;lat.&quot;</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">imie =<span class="st"> &quot;Olek&quot;</span>
wiek =<span class="st"> </span><span class="dv">77</span>
tekst1 =<span class="st"> </span><span class="kw">paste</span>(imie, <span class="st">&quot;ma&quot;</span>, wiek, <span class="st">&quot;lat.&quot;</span>)
tekst1
<span class="co">#&gt; [1] &quot;Olek ma 77 lat.&quot;</span></code></pre>
<p>Takie konstrukcje są często używane w funkcjach.
Powyższy przykład możnaby przepisać jako:</p>
<pre class="sourceCode r"><code class="sourceCode r">lata =<span class="st"> </span><span class="cf">function</span>(imie, wiek){
  <span class="kw">paste</span>(imie, <span class="st">&quot;ma&quot;</span>, wiek, <span class="st">&quot;lat.&quot;</span>)
}
<span class="kw">lata</span>(<span class="st">&quot;Asia&quot;</span>, <span class="dv">61</span>)
<span class="co">#&gt; [1] &quot;Asia ma 61 lat.&quot;</span></code></pre>
<p>Dodatkowo w R istnieje alternatywa dla <code>paste()</code> i <code>paste0()</code> w postaci funkcji <code>sprintf()</code>.</p>
<p>Kolejne podstawowe funkcje, <code>toupper()</code> i <code>tolower()</code> zamieniają cały istniejący tekst na taki który posiada tylko duże lub małe litery.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">toupper</span>(tekst1)
<span class="co">#&gt; [1] &quot;OLEK MA 77 LAT.&quot;</span>
<span class="kw">tolower</span>(tekst1)
<span class="co">#&gt; [1] &quot;olek ma 77 lat.&quot;</span></code></pre>
<p>Są one używane w sytuacjach, gdy posiadamy dane, w których jeden tekst jest podany w kilku formach i chcemy je ujednolicić.</p>
<p>R posiada też wiele innych wbudowanych funkcji do obsługi tekstu (np. <code>grep()</code>)<!--API issues-->, ale istnieją też specjalne pakiety poświęcone temu zagadnieniu, w tym pakiet <strong>stringr</strong> <span class="citation">(Wickham <a href="#ref-R-stringr">2019</a>)</span>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stringr)</code></pre>
<p>Większość funkcji tego pakietu zaczyna się od prefiksu <code>str_</code> co ułatwia znajdowanie funkcji w tym pakiecie i zmniejsza szansę na nałożenie się funkcji o takiej samej nazwie z innego pakietu.</p>
<p>Przykładową operacją na tekście jest jego sortowanie (czyli układanie alfabetycznie), do którego służy funkcja <code>str_sort()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst2 =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;czosnek&quot;</span>, <span class="st">&quot; hałas&quot;</span>, <span class="st">&quot;ćma &quot;</span>)
tekst2
<span class="co">#&gt; [1] &quot;czosnek&quot; &quot; hałas&quot;  &quot;ćma &quot;</span>
<span class="kw">str_sort</span>(tekst2)
<span class="co">#&gt; [1] &quot; hałas&quot;  &quot;ćma &quot;    &quot;czosnek&quot;</span></code></pre>
<p>W powyższym przykładzie oczkiwalibyśmy ułożenia, w których <code>&quot;hałas&quot;</code> byłby na ostatnim miejscu.
Nie jest tak z powodu istnienia z przodu tego wyrazu znaku niedrukowalnego - spacji.
Aby usunąć spacje z przodu i tyłu tekstu można użyć funkcji <code>str_trim()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst2 =<span class="st"> </span><span class="kw">str_trim</span>(tekst2)
tekst2
<span class="co">#&gt; [1] &quot;czosnek&quot; &quot;hałas&quot;   &quot;ćma&quot;</span></code></pre>
<p>W tej chwili możmy użyć funkcji <code>str_sort()</code> jeszcze raz.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_sort</span>(tekst2)
<span class="co">#&gt; [1] &quot;ćma&quot;     &quot;czosnek&quot; &quot;hałas&quot;</span></code></pre>
<p>Teraz <code>&quot;hałas&quot;</code> jest poprawnie na ostanim miejscu, ale na pierwszej pozycji jest <code>&quot;ćma&quot;</code> zamiast <code>&quot;czosnek&quot;</code>.
Różne alfabety na świecie mają inne znaki oraz ich kolejność.
Domyślnie funkcja <code>str_sort()</code> używa alfabetu angielskiego, co w efekcie powoduje niepoprawne ułożenie polskich znaków.
Do rozwiązania tego problemu służy argument <code>locale</code>, w którym można określić jaki alfabet ma być używany.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_sort</span>(tekst2, <span class="dt">locale =</span> <span class="st">&quot;pl&quot;</span>)
<span class="co">#&gt; [1] &quot;czosnek&quot; &quot;ćma&quot;     &quot;hałas&quot;</span>
<span class="kw">str_sort</span>(tekst2, <span class="dt">locale =</span> <span class="st">&quot;cs&quot;</span>)
<span class="co">#&gt; [1] &quot;ćma&quot;     &quot;czosnek&quot; &quot;hałas&quot;</span></code></pre>
<p>Powyżej można zobaczyć dwa przykłady - ułożenia tekstu według polskiego i czeskiego alfabetu<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a>.</p>
</div>
<div id="wt" class="section level2">
<h2><span class="header-section-number">6.3</span> Wydzielanie tekstu</h2>
<p>Częstym przypadkiem jest potrzeba wydzielenia tylko fragmentu tekstu.
W tej sekcji zostanie pokazane jak wydzielać tekst na podstawie pozycji, ale możliwe jest również wydzielanie tekstu na podstawie wzorca (zobacz sekcję <a href="tekst.html#wtregex">6.5</a>).
Wydzielanie na podstawie pozycji jest używane w sytuacjach, gdy struktura wejściowego tekstu jest nam znana i stabilna, np. gdy interesuje nas wybranie fragmentu tekstu z automatycznie generowanych raportów.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst1 =<span class="st"> &quot;Olek ma 77 lat.&quot;</span></code></pre>
<p>W przypadku wydzielania tekstu na podstawie pozycji należy określić pozycję pierwszego i ostatniego znaku, który nas interesuje.
Można to zrobić na kilka sposobów.
Pierwszy z nich polega na określeniu położenia znaków od lewej strony, np. poniższy kod wybiera tekst rozpoczynający się od 9 znaku i kończący się na znaku 15 włącznie.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_sub</span>(tekst1, <span class="dt">start =</span> <span class="dv">9</span>, <span class="dt">end =</span> <span class="dv">15</span>)
<span class="co">#&gt; [1] &quot;77 lat.&quot;</span></code></pre>
<p>Definiowanie pozycji może się też odbywać od prawej strony tekstu używając znaku <code>-</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_sub</span>(tekst1, <span class="dt">start =</span> <span class="dv">9</span>, <span class="dt">end =</span> <span class="dv">-1</span>)
<span class="co">#&gt; [1] &quot;77 lat.&quot;</span></code></pre>
<p>W powyższym przykładzie wybierany jest tekst zaczynający się na 9 znaku a kończący na pierwszym znaku od końca włącznie.
Natomiat poniżej wybrany jest tekst zaczynający się na siódmym znaku od końca i kończący na pierwszym od kónca włącznie.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_sub</span>(tekst1, <span class="dt">start =</span> <span class="dv">-7</span>, <span class="dt">end =</span> <span class="dv">-1</span>)
<span class="co">#&gt; [1] &quot;77 lat.&quot;</span></code></pre>
</div>
<div id="wyrazenia-regularne" class="section level2">
<h2><span class="header-section-number">6.4</span> Wyrażenia regularne</h2>
<!-- https://github.com/VerbalExpressions/JSVerbalExpressions -->
<!-- https://github.com/richierocks/rebus/blob/master/README.md -->
<!-- https://www.garrickadenbuie.com/project/regexplain/ -->
<!-- https://github.com/kevinushey/rex -->
<p>Sprawdzanie czy dany tekst występuje w wektorze można wykonać używając funkcji <code>str_detect()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst3 =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Magdalena&quot;</span>, <span class="st">&quot;Lena&quot;</span>, <span class="st">&quot;1Lena.csv&quot;</span>, <span class="st">&quot;LLena&quot;</span>, <span class="st">&quot;Helena&quot;</span>, <span class="st">&quot;Anna&quot;</span>, <span class="st">&quot;99&quot;</span>)</code></pre>
<p>W takim wypadku konieczne jest zdefiniowanie argumentu <code>pattern</code>, czyli wzorca tekstowego, który nas interesuje.
Aby znaleźć wszystkie wystąpienia (nawet fragmentaryczne) słowa <code>&quot;Lena&quot;</code> można użyć poniższego kodu.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;Lena&quot;</span>)
<span class="co">#&gt; [1] FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE</span></code></pre>
<p>Jego efektem będzie wektor logiczny wskazujący, które elemeny zawierają wybrany wzorzec (<code>TRUE</code>) oraz które go nie zawierają (<code>FALSE</code>).
Wzorzec zdefiniowany w tej sposób jest czuły na wielkość znaków dlatego też zapytanie używając <code>&quot;Lena&quot;</code> da inny wynik niż takie używając <code>&quot;lena&quot;</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;lena&quot;</span>)
<span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE</span></code></pre>
<p>W celu ułatwienia wyszukiwania złożonych fraz powstały wyrażenia regularne.
Wyrażenia regularne (ang. <em>regular expressions</em>), często określane jako <em>regex</em> to sposób opisywanie wzorców tekstu.
Używając wyrażeń regularnych możliwe jest, między innymi, znajdowanie tekstu lub zamienienie, który spełnia wymagane warunki.
Wyrażenia regularne są powszechnie używane w wyszukiwarkach internetowych, edytorach tekstu, oraz wielu językach programowania.</p>
<p>Wyrażenia regularne opierają się o stosowanie szeregu operatorów (metaznaków) wymienionych w tabeli <a href="tekst.html#tab:regexoperators">6.1</a>.</p>
<table>
<caption><span id="tab:regexoperators">Tabela 6.1: </span>Metaznaki w wyrażeniach regularnych</caption>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Wyjaśnienie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">^</td>
<td align="left">Określa początek tekstu/linii</td>
</tr>
<tr class="even">
<td align="left">$</td>
<td align="left">Określa koniec testu/linii</td>
</tr>
<tr class="odd">
<td align="left">()</td>
<td align="left">Grupowanie</td>
</tr>
<tr class="even">
<td align="left">|</td>
<td align="left">Alternatywa (lub)</td>
</tr>
<tr class="odd">
<td align="left">[]</td>
<td align="left">Wymienia dozwolone znaki</td>
</tr>
<tr class="even">
<td align="left">[^]</td>
<td align="left">Wymienia niedozwolone znaki</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">Poprzedni znak zostanie wybrany zero lub więcej razy</td>
</tr>
<tr class="even">
<td align="left">+</td>
<td align="left">Poprzedni znak zostanie wybrany jeden lub więcej razy</td>
</tr>
<tr class="odd">
<td align="left">?</td>
<td align="left">Poprzedni znak zostanie wybrany zero lub jeden raz</td>
</tr>
<tr class="even">
<td align="left">{n}</td>
<td align="left">Poprzedni znak zostanie wybrany n razy</td>
</tr>
<tr class="odd">
<td align="left">.</td>
<td align="left">Jakikolwiek znak oprócz nowej linii (\n)</td>
</tr>
<tr class="even">
<td align="left">\</td>
<td align="left">Pozwala na użycie specjalnych znaków</td>
</tr>
</tbody>
</table>
<p>Wymienione powyżej znaki (np. <code>^</code><!--Kareta--> czy <code>.</code>) mają specjalne znaczenie.
W związku z tym, jeżeli chcemy wyszukać tekstu zawierającego specjalny znak, musimy użyć ukośnik wsteczny (<code>\</code>, ang. <em>backslash</em>).
Istnieje wiele dodatkowych znaków specjalnych, np. <code>\n</code> - nowa linia, <code>\t</code> - tabulator, <code>\d</code> - każdy znak numeryczny (stałoprzecinkowy), <code>\s</code> - znak niedrukowalny, np. spacja, tabulator, nowa linia.</p>
<p>Sprawdźmy działanie wyrażeń regularnych na kilku przykładach.
W pierwszym z nich określiliśmy nasz wzorzec jako <code>&quot;^L&quot;</code>, co oznacza, że interesują nas tylko elementy wektora <code>tekst3</code> rozpoczynające się od dużej litery <code>L</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;^L&quot;</span>)
<span class="co">#&gt; [1] FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE</span></code></pre>
<p>Do określenia zakończenia wzorca służy metaznak <code>$</code>.
Poniżej wyszukano elementy, które kończą się na <code>ena</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;ena$&quot;</span>)
<span class="co">#&gt; [1]  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE</span></code></pre>
<p>Operatory <code>()</code> i <code>|</code> można łączyć, aby zdefiniować alternatywy.
Przykładowo, interesują nas elementy, które kończą się na <code>ena</code> lub <code>nna</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;(ena|nna)$&quot;</span>)
<span class="co">#&gt; [1]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE FALSE</span></code></pre>
<p>W wyrażeniach regularnych można też stosować pewne skrótowe polecenia.
W poniższym przypadku interesują nas elementy, które zawierają jakiekolwiek znaki od małego <code>a</code> do małego <code>z</code> oraz dużego <code>A</code> do dużego <code>Z</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-Z]&quot;</span>)
<span class="co">#&gt; [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE</span></code></pre>
<p>Podobnie można określać wartości numeryczne - np. tylko elementy zawierające wartości od <code>0</code> do <code>9</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;[0-9]&quot;</span>)
<span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE</span></code></pre>
<p>Celem metaznaku <code>+</code> jest określenie, że poprzedni znak musi wystąpić jeden lub więcej razy.
Poniżej interesują nas tylko takie elementy, w których litera <code>L</code> występuje raz lub więcej.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;L+&quot;</span>)
<span class="co">#&gt; [1] FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE</span></code></pre>
<p>W wyrażeniach regularnych metaznak <code>^</code> określa początek tekstu/linii, ale ma on też inne zastosowanie, gdy jest użyty w kwadratowym nawiasie.
Przykładowo <code>[^L]</code> oznacza, że szukamy wszystkich elementów nie zawierających litery <code>L</code>.
W poniższym przykładzie nie interesują nas elementy, które zaczynają się od jednej lub więcej litery <code>L</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;^[^L]+&quot;</span>)
<span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE</span></code></pre>
<p>Metaznak <code>.</code> służy do określania jakikolwiek znaku, a ukośnik wsteczny (<code>\</code>) służy do określania innych znaków specjalnych.
Dlatego też, jeżeli chcemy wyszukać elementów zawierających kropki (<code>.</code>) musimy połączyć ukośnik wsteczny z tym znakiem.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;\.&quot;</span>)
<span class="co">#&gt; Error: &#39;\.&#39; is an unrecognized escape in character string starting &quot;&quot;\.&quot;</span></code></pre>
<p>Powyższy przykład daje jednak komunikat błędu - aby użyć ukośnik wsteczny do zasygnalizowania, że interesuje nas kropka musimy wprowadzić go dwa razy<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_detect</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>)
<span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE</span></code></pre>
<!-- block z popularnymi regex -->
<p>Celem funkcji <code>str_detect()</code> jest wskazanie, który element spełnia dane zapytanie.
Do wydzielenia elementu służy funkcja <code>str_subset()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(tekst3, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>)
<span class="co">#&gt; [1] &quot;1Lena.csv&quot;</span></code></pre>
<!-- https://stringr.tidyverse.org/articles/regular-expressions.html -->
<p>Umiejętności używania wyrażeń regularnych można trenować używając różnych zasobów internetowych, np. strony <a href="https://regexr.com/" class="uri">https://regexr.com/</a>, <a href="https://regex101.com/" class="uri">https://regex101.com/</a>, czy <a href="https://regexcrossword.com/" class="uri">https://regexcrossword.com/</a>.
Pomocne w zrozumieniu bardziej zaawansowanych elementów wyrażeń regularncych może być też prezentacja <a href="https://www.youtube.com/watch?v=EkluES9Rvak">Best of Fluent 2012: /Reg(exp){2}lained/: Demystifying Regular Expressions</a> oraz książka Mastering Regular Expressions <span class="citation">(Friedl <a href="#ref-friedl2006mastering">2006</a>)</span>.
<!-- https://www.amazon.com/Mastering-Regular-Expressions-Jeffrey-Friedl/dp/0596528124/ref=sr_1_1?ie=UTF8&qid=1464113797&sr=8-1&keywords=mastering+regular+expressions -->
<!-- https://www.rstudio.com/resources/cheatsheets/#stringr --></p>
</div>
<div id="wtregex" class="section level2">
<h2><span class="header-section-number">6.5</span> Wydzielanie tekstu - regex</h2>
<p>Innym często spotykanym problemem w pracy z tekstem jest posiadanie długiego elementu tekstowego, z którego chcemy tylko wydobyć pewien fragment.
W sekcji <a href="tekst.html#wt">6.3</a> używaliśmy do tego pozycji, ale możemy zastosować również wzroce do tego celu.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst_pomiary =<span class="st"> &quot;Wrocław: 23.5, Bydgoszcz: 12.7, Toruń: 11.1, Lublin: 14.3&quot;</span></code></pre>
<p>Wektor <code>tekst_pomiary</code> zawiera tylko jeden element tekstowy, w którym wymienione są kolejne miasta i ich wartości.
Wyobraźmy sobie, że interesują nas tylko nazwy miast zawarte w powyższym wektorze.
Do wydzielania tekstu na podstawie wyrażeń regularnych służy funkcja <code>str_extract()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract</span>(tekst_pomiary, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-Z]*&quot;</span>)
<span class="co">#&gt; [1] &quot;Wroc&quot;</span></code></pre>
<p>Podaliśmy jako wzorzec wszyskie litery od małego <code>a</code> do małego <code>z</code> oraz dużego <code>A</code> do dużego <code>Z</code>.
Niestety w efekcie otrzymaliśmy tylko Wroc - taka definicja wzorca obejmuje tylko litery z angielskiego alfabetu.</p>
<p>Aby to naprawić możemy dodać do tego wzorca polskie litery.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract</span>(tekst_pomiary, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]*&quot;</span>)
<span class="co">#&gt; [1] &quot;Wrocław&quot;</span></code></pre>
<p>Tym razem otrzymaliśmy pełną nazwę pierwszego miasta, ale nie żadnego kolejnego.
Funkcja <code>str_extract()</code> jest leniwa - po znalezieniu pierwszego pasującego fragmentu przestaje ona szukać dalej i przekazuje wynik.</p>
<p>Aby uzyskać wszystkie przypadki spełniające określony wzorzec należy użyć funkcji <code>str_extract_all()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract_all</span>(tekst_pomiary, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]*&quot;</span>)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt;  [1] &quot;Wrocław&quot;   &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;         </span>
<span class="co">#&gt;  [6] &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;Bydgoszcz&quot;</span>
<span class="co">#&gt; [11] &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;         </span>
<span class="co">#&gt; [16] &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;Toruń&quot;     &quot;&quot;         </span>
<span class="co">#&gt; [21] &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;         </span>
<span class="co">#&gt; [26] &quot;&quot;          &quot;&quot;          &quot;Lublin&quot;    &quot;&quot;          &quot;&quot;         </span>
<span class="co">#&gt; [31] &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;</span></code></pre>
<p>Efektem jej działania są wszystkie nazwy miast z wektora <code>tekst_pomiary</code>, ale też wiele elementów pustych.
Dlaczego?
W powyższym wzorcu użyliśmy metaznaku <code>*</code>, który szuka wystąpienia zdefiniowanych znaków zero lub więcej razy.
Gdy napotkany jest zdefiniowany znak sprawdzane jest jego kolejne wystąpienie, aż do momentu, gdy pojawi się jakiś inny znak.
W efekcie zwrócony został np. <code>&quot;Wrocław&quot;</code>.
Metaznak <code>*</code> w przypadku, gdy zdefiniowanego znaku nie ma (wystąpił zero razy) zwraca pusty element.</p>
<p>Jeżeli interesują nas tylko fragmenty wektora zawierające tekst musimy użyć metaznaku <code>+</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract_all</span>(tekst_pomiary, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]+&quot;</span>)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] &quot;Wrocław&quot;   &quot;Bydgoszcz&quot; &quot;Toruń&quot;     &quot;Lublin&quot;</span></code></pre>
<p>Wyobrażmy sobie, że otrzymaliśmy rozszerzoną wersję poprzednich danych, która tym razem zawiera dwa dodatkowe miasta - Gorzów Wielkopolski i Zieloną Górę.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst_pomiary2 =<span class="st"> &quot;Wrocław: 23.5, Bydgoszcz: 12.7, Toruń: 11.1, Lublin: 14.3, Gorzów Wielkopolski: 20, Zielona Góra: 19&quot;</span></code></pre>
<p>Nadal interesuje nas wydzielenie nazw miast, więc próbujemy użyć kodu, który stworzyliśmy powyżej.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract_all</span>(tekst_pomiary2, <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]+&quot;</span>)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] &quot;Wrocław&quot;      &quot;Bydgoszcz&quot;    &quot;Toruń&quot;        &quot;Lublin&quot;      </span>
<span class="co">#&gt; [5] &quot;Gorzów&quot;       &quot;Wielkopolski&quot; &quot;Zielona&quot;      &quot;Góra&quot;</span></code></pre>
<p>Niestety w efekcie otrzymujemy osiem elementów, gdzie <code>&quot;Gorzów&quot;</code> jest innym elementem niż <code>&quot;Wielkopolski&quot;</code>.
Zdefiniowany przez nas wzorzec nie brał pod uwagę możliwości wystąpienia spacji.
Możemy naprawić tę sytuację w poniższy sposób.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract_all</span>(tekst_pomiary2, 
       <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]+[</span><span class="ch">\\</span><span class="st">s]?[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]*&quot;</span>)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] &quot;Wrocław&quot;             &quot;Bydgoszcz&quot;           &quot;Toruń&quot;              </span>
<span class="co">#&gt; [4] &quot;Lublin&quot;              &quot;Gorzów Wielkopolski&quot; &quot;Zielona Góra&quot;</span></code></pre>
<p>Teraz szukamy wystąpienia liter co najmniej raz lub więcej (<code>+</code>), następnie wystąpienia spacji zero razy lub raz (<code>[\\s]?</code>) i kończymy na sprawdzeniu wystąpienia tekstu zero razy lub więcej (<code>*</code>).</p>
<p>Podobnie jak w każdym powyższym przypadku, efekt działania funkcji może być użyty do stworzenia nowego obiektu.</p>
<pre class="sourceCode r"><code class="sourceCode r">miasta_pomiary2 =<span class="st"> </span><span class="kw">str_extract_all</span>(tekst_pomiary2,
       <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]+[</span><span class="ch">\\</span><span class="st">s]?[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]*&quot;</span>)
miasta_pomiary2
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] &quot;Wrocław&quot;             &quot;Bydgoszcz&quot;           &quot;Toruń&quot;              </span>
<span class="co">#&gt; [4] &quot;Lublin&quot;              &quot;Gorzów Wielkopolski&quot; &quot;Zielona Góra&quot;</span></code></pre>
</div>
<div id="zamiana-tekstu---regex" class="section level2">
<h2><span class="header-section-number">6.6</span> Zamiana tekstu - regex</h2>
<p>Innym przykładem działania na tekście jest zamiana wybranych jego elementów.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst_pomiary3 =<span class="st"> &quot;Wrocław: 23.5, Bydgoszcz: 12.7, Toruń: 11.1, Lublin: 14.3&quot;</span></code></pre>
<p>Powyższy obiekt <code>tekst_pomiary3</code> zawiera nazwy miast i wartości pomiarów przedstawione zgodnie z amerykańskim standardem, gdzie kropka oddziela wartości dziesiętne, a przecinek kolejne elementy.
Aby zamienić wybrany wzorzec w tekście (np. kropkę na przecinek) możemy użyć funkcji <code>str_replace()</code>, w której podajemy obiekt tekstowy, szukany wzorzec oraz jego zamianę.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace</span>(tekst_pomiary3, 
            <span class="dt">pattern =</span> <span class="st">&quot;.&quot;</span>, 
            <span class="dt">replacement =</span> <span class="st">&quot;,&quot;</span>)
<span class="co">#&gt; [1] &quot;,rocław: 23.5, Bydgoszcz: 12.7, Toruń: 11.1, Lublin: 14.3&quot;</span></code></pre>
<p>Efekt działania tego kodu nie jest jednak zgodny z naszymi oczekiwaniami.
Zamiast zamiany wszyskich kropek na przecinki, nastąpiła zamiana pierwszego znaku w tekście (litery <code>W</code>) na przecinek.
Wynika to ze znaczenia metaznaku <code>.</code>, który reprezentuje jakikolwiek znak oprócz nowej linii.
Żeby naprawić tę sytuację musimy użyć ukośnika wstecznego.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace</span>(tekst_pomiary3, 
            <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>, 
            <span class="dt">replacement =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">,&quot;</span>)
<span class="co">#&gt; [1] &quot;Wrocław: 23,5, Bydgoszcz: 12.7, Toruń: 11.1, Lublin: 14.3&quot;</span></code></pre>
<p>Funkcja <code>str_replace()</code>, podobnie jak <code>str_extract()</code>, jest leniwa i zamienia tylko pierwsze wystąpienie wzorca.
Do zamiany wszystkich przypadków trzeba użyć funkcji <code>str_replace_all()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace_all</span>(tekst_pomiary3, 
                <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>, 
                <span class="dt">replacement =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">,&quot;</span>)
<span class="co">#&gt; [1] &quot;Wrocław: 23,5, Bydgoszcz: 12,7, Toruń: 11,1, Lublin: 14,3&quot;</span></code></pre>
<p>W przypadku, gdy interesuje nas zarówno zamiana kropek na przecinki oraz przecinków na średniki, musimy zacząć od tej drugiej zamiany.</p>
<pre class="sourceCode r"><code class="sourceCode r">tekst_pomiary4 =<span class="st"> </span><span class="kw">str_replace_all</span>(tekst_pomiary3,
                                 <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">,&quot;</span>,
                                 <span class="dt">replacement =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">;&quot;</span>)</code></pre>
<p>Nowy obiekt <code>tekst_pomiary4</code> oddziela kolejne miasta średnikami.
Teraz na jego podstawie możliwa jest zamiana kropek na przecinki w sposób opisany powyżej.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace_all</span>(tekst_pomiary4, 
                <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>, 
                <span class="dt">replacement =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">,&quot;</span>)
<span class="co">#&gt; [1] &quot;Wrocław: 23,5; Bydgoszcz: 12,7; Toruń: 11,1; Lublin: 14,3&quot;</span></code></pre>
<p>Funkcje jakie jak <code>str_replace()</code> czy <code>str_replace_all()</code> mogą być też stosowane do usuwania fragmentów tekstu.
Do tego celu można zdefiniować wzorzec jaki chcemy usunąć, a jako jego zamianę tekst pusty (<code>&quot;&quot;</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace_all</span>(tekst_pomiary4, 
                <span class="dt">pattern =</span> <span class="st">&quot;[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]+&quot;</span>,
                <span class="dt">replacement =</span> <span class="st">&quot;&quot;</span>)
<span class="co">#&gt; [1] &quot;: 23.5; : 12.7; : 11.1; : 14.3&quot;</span></code></pre>
</div>
<div id="wyszukiwanie-plikow" class="section level2">
<h2><span class="header-section-number">6.7</span> Wyszukiwanie plików</h2>
<p>Umiejętności związane z obsługą wyrażeń regularnych przydają się też w przypadku wyszukiwania plików zawierających określony tekst w nazwie lub specyficzne rozszerzenie.
Jest to szczególnie przydatne, gdy posiadamy wiele plików na komputerze, które chcemy następnie przetwarzać w sposób automatyczny.</p>
<p>Do wyświetlania nazw plików znajdujących się w wybranym folderze służy funkcja <code>dir()</code>.
Przykładowo poniższa linia kodu wyświetla wszyskie pliki znajdujące się w folderze <code>&quot;pliki&quot;</code><a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir</span>(<span class="st">&quot;pliki&quot;</span>)
<span class="co">#&gt; [1] &quot;dane_meteo.csv&quot;  &quot;dane_meteo.rds&quot;  &quot;dane_meteo.xlsx&quot; &quot;dokument.docx&quot;  </span>
<span class="co">#&gt; [5] &quot;kod.R&quot;           &quot;mapa.png&quot;        &quot;obrazek.png&quot;     &quot;zdjęcie.jpg&quot;</span></code></pre>
<p>W przypadku, gdy interesują nas tylko pliki o wybranym rozszerzeniu możemy użyć argumentu <code>pattern</code> i zdefiniować wzorzec.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir</span>(<span class="st">&quot;pliki&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;*</span><span class="ch">\\</span><span class="st">.png$&quot;</span>)
<span class="co">#&gt; [1] &quot;mapa.png&quot;    &quot;obrazek.png&quot;</span></code></pre>
<p>W powyższym przykładzie zostaną wybrane tylko pliki o jakiejkolwiek nazwie, ale kończące się na rozszerzenie <code>.png</code>.
Metaznak <code>$</code> użyty w tym przypadku zapogiega sytuacji, gdy tekst <code>.png</code> znajduje się w środku nazwy pliku.</p>
<p>Do znalezienia plików o kilku rozszerzeniach można użyć metaznaków <code>()</code> i <code>|</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir</span>(<span class="st">&quot;pliki&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;*</span><span class="ch">\\</span><span class="st">.(png|jpg)$&quot;</span>)
<span class="co">#&gt; [1] &quot;mapa.png&quot;    &quot;obrazek.png&quot; &quot;zdjęcie.jpg&quot;</span></code></pre>
<p>Domyślnie funkcja <code>dir()</code> pokazuje zawartość wybranego folderu, aby jednak poznać jego pełną ścieżkę względną należy określić argument <code>full.names</code> na <code>TRUE</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir</span>(<span class="st">&quot;pliki&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;*</span><span class="ch">\\</span><span class="st">.(png|jpg)$&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;pliki/mapa.png&quot;    &quot;pliki/obrazek.png&quot; &quot;pliki/zdjęcie.jpg&quot;</span></code></pre>
</div>
<div id="zadania-5" class="section level2">
<h2><span class="header-section-number">6.8</span> Zadania</h2>
<ol style="list-style-type: decimal">
<li>Plik tekstowy zawiera listę pomiarów, w której piąty i czwarty znak od końca oznacza symbol chemiczny pomierzonego pierwiastka, przykładowo:</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;TERYT 18; podkarpackie; Rzeszów; 0.2 He; A&quot;</span>
<span class="st">&quot;TERYT 22; pomorskie;   Gdańsk; 12 C ; B&quot;</span></code></pre>
<p>Napisz kod, który będzie wydzielał symbole chemiczne pomierzonych pierwiastków.</p>
<ol start="2" style="list-style-type: decimal">
<li>Napisz funkcję nazywającą się <code>horoskop</code>, która przyjmuje dwa argumenty <code>imie</code> (pierwsze imię, tekst) oraz <code>miesiac</code> (miesiąc urodzin, liczba).
Funkcja ma zwrócić tekst “Osoba o imieniu ‘imie’ będzie miała jutro szczęście.” w przypadku, gdy argument <code>miesiac</code> jest liczbą parzystą oraz “Osoba o imieniu ‘imie’ będzie miała jutro nieszczęście.” jeżeli argument <code>miesiac</code> jest liczbą nieparzystą.</li>
<li>Rozbuduj funkcję <code>horoskop</code> poprzez sprawdzenie pierwszej litery podanego imienia. Jeżeli pierwsza litera imienia to <code>K</code>, <code>M</code>, lub <code>Z</code> wówczas wyświetli się zawsze tekst “Osoba o imieniu ‘imie’ będzie miała jutro szczęście.”, bez względu na podany miesiąc.</li>
<li>Efektem zbierania pomiarów temperatury okazał być się plik tekstowy, który zawiera datę pomiaru oraz wartość.
W jaki sposób możliwe jest wydzielenie tylko dat w takiej sytuacji?
Poniżej znajduje się fragment przykładowych danych wejściowych.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;2019-03-11: 23.5, 19/03/12: 12.7, 2019.03.13: 11.1, 2019-marzec-14: 14.3&quot;</span></code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Co należałoby zrobić, aby wydzielić tylko wartości pomiarów w powyższym przypadku?
Stwórz nowy obiekt <code>wartosci</code> zawierający te pomiary.
Jakiej klasy powinien być wyjściowy obiekt?</li>
<li>Posiadasz wektor <code>wsp</code> zawierający współrzedne geograficzne szeregu miast w formacie DMS (Stopnie, Minuty, Sekundy).
Wydziel tylko wartości stopnii z tej reprezentacji.
Poniżej znajduje się fragment przykładowych danych wejściowych.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">wsp =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;52°24′N 16°55′E&quot;</span>, <span class="st">&quot;53°08′07″N 23°08′44″E&quot;</span>, <span class="st">&quot;39°6′N 84°31′W&quot;</span>)</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>Stwórz funkcję, która przyjmując przykładowe dane z poprzedniego zadania zamieni współrzędne na format w postaci stopni dziesiętnych (np. <code>52°24′N</code> w formacie DMS to <code>52.4</code> w stopniach dziesiętnych).
<!-- match hex colors, examples :#abs, #f0, #BADA55, #COFFEE https://www.youtube.com/watch?v=EkluES9Rvak --></li>
</ol>

</div>
</div>
<h3>Bibliografia</h3>
<div id="refs" class="references">
<div id="ref-wickham2016r">
<p>Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. &quot; O’Reilly Media, Inc.&quot;.</p>
</div>
<div id="ref-R-stringr">
<p>Wickham, Hadley. 2019. <em>Stringr: Simple, Consistent Wrappers for Common String Operations</em>. <a href="https://CRAN.R-project.org/package=stringr" class="uri">https://CRAN.R-project.org/package=stringr</a>.</p>
</div>
<div id="ref-friedl2006mastering">
<p>Friedl, Jeffrey EF. 2006. <em>Mastering Regular Expressions</em>. &quot; O’Reilly Media, Inc.&quot;.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="33">
<li id="fn33"><p>Odpowiednikiem funkcji <code>paste()</code> w pakiecie <strong>stringr</strong> jest funkcja <code>str_c()</code><a href="tekst.html#fnref33" class="footnote-back">↩</a></p></li>
<li id="fn34"><p><a href="https://en.wikipedia.org/wiki/Czech_orthography" class="uri">https://en.wikipedia.org/wiki/Czech_orthography</a><a href="tekst.html#fnref34" class="footnote-back">↩</a></p></li>
<li id="fn35"><p><a href="https://xkcd.com/1638/" class="uri">https://xkcd.com/1638/</a><a href="tekst.html#fnref35" class="footnote-back">↩</a></p></li>
<li id="fn36"><p>Folder o tej nazwie znajduje się w folderze robocznym.<a href="tekst.html#fnref36" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="proste-obiekty.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="zlozone-obiekty.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Nowosad/my-minimal-bookdown/edit/master/06-tekst.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["wstep_do_progr_w_r_nowosad_2019.pdf", "wstep_do_progr_w_r_nowosad_2019.epub"],
"toc": {
"collapse": "section"
},
"includes": {
"in_header": "ga.html"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
