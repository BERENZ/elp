<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>9 Wczytywanie i zapisywanie plików | Elementarz programisty</title>
  <meta name="description" content="9 Wczytywanie i zapisywanie plików | Elementarz programisty">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="9 Wczytywanie i zapisywanie plików | Elementarz programisty" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="nowosad/my-minimal-bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Wczytywanie i zapisywanie plików | Elementarz programisty" />
  
  
  

<meta name="author" content="Jakub Nowosad">


<meta name="date" content="2019-04-01">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="petle.html">
<link rel="next" href="przykad-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Wstęp do programowania w R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>O książce</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#wymagania-wstepne"><i class="fa fa-check"></i>Wymagania wstępne</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#styl-ksiazki"><i class="fa fa-check"></i>Styl książki</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#podziekowania"><i class="fa fa-check"></i>Podziękowania</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="wprowadzenie.html"><a href="wprowadzenie.html"><i class="fa fa-check"></i><b>1</b> Wprowadzenie</a><ul>
<li class="chapter" data-level="1.1" data-path="wprowadzenie.html"><a href="wprowadzenie.html#mity-programistyczne"><i class="fa fa-check"></i><b>1.1</b> Mity programistyczne</a></li>
<li class="chapter" data-level="1.2" data-path="wprowadzenie.html"><a href="wprowadzenie.html#jezyki-programowania"><i class="fa fa-check"></i><b>1.2</b> Języki programowania</a></li>
<li class="chapter" data-level="1.3" data-path="wprowadzenie.html"><a href="wprowadzenie.html#r"><i class="fa fa-check"></i><b>1.3</b> R</a></li>
<li class="chapter" data-level="1.4" data-path="wprowadzenie.html"><a href="wprowadzenie.html#zadania"><i class="fa fa-check"></i><b>1.4</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>I Podstawy</b></span></li>
<li class="chapter" data-level="2" data-path="ergosum.html"><a href="ergosum.html"><i class="fa fa-check"></i><b>2</b> Start R</a><ul>
<li class="chapter" data-level="2.1" data-path="ergosum.html"><a href="ergosum.html#wyrazenia"><i class="fa fa-check"></i><b>2.1</b> Wyrażenia</a></li>
<li class="chapter" data-level="2.2" data-path="ergosum.html"><a href="ergosum.html#obiekty"><i class="fa fa-check"></i><b>2.2</b> Obiekty</a><ul>
<li class="chapter" data-level="2.2.1" data-path="ergosum.html"><a href="ergosum.html#operator-przypisania"><i class="fa fa-check"></i><b>2.2.1</b> Operator przypisania</a></li>
<li class="chapter" data-level="2.2.2" data-path="ergosum.html"><a href="ergosum.html#dzialania-na-obiektach"><i class="fa fa-check"></i><b>2.2.2</b> Działania na obiektach</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ergosum.html"><a href="ergosum.html#ide"><i class="fa fa-check"></i><b>2.3</b> IDE</a></li>
<li class="chapter" data-level="2.4" data-path="ergosum.html"><a href="ergosum.html#styl"><i class="fa fa-check"></i><b>2.4</b> Styl</a><ul>
<li class="chapter" data-level="2.4.1" data-path="ergosum.html"><a href="ergosum.html#nazwy-obiektow"><i class="fa fa-check"></i><b>2.4.1</b> Nazwy obiektów</a></li>
<li class="chapter" data-level="2.4.2" data-path="ergosum.html"><a href="ergosum.html#odstepy"><i class="fa fa-check"></i><b>2.4.2</b> Odstępy</a></li>
<li class="chapter" data-level="2.4.3" data-path="ergosum.html"><a href="ergosum.html#komentarze"><i class="fa fa-check"></i><b>2.4.3</b> Komentarze</a></li>
<li class="chapter" data-level="2.4.4" data-path="ergosum.html"><a href="ergosum.html#nazwy-plikow"><i class="fa fa-check"></i><b>2.4.4</b> Nazwy plików</a></li>
<li class="chapter" data-level="2.4.5" data-path="ergosum.html"><a href="ergosum.html#daty"><i class="fa fa-check"></i><b>2.4.5</b> Daty</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ergosum.html"><a href="ergosum.html#resources"><i class="fa fa-check"></i><b>2.5</b> Dodatkowe materiały</a></li>
<li class="chapter" data-level="2.6" data-path="ergosum.html"><a href="ergosum.html#zadania-1"><i class="fa fa-check"></i><b>2.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="funkcje.html"><a href="funkcje.html"><i class="fa fa-check"></i><b>3</b> Funkcje</a><ul>
<li class="chapter" data-level="3.1" data-path="funkcje.html"><a href="funkcje.html#struktura-funkcji"><i class="fa fa-check"></i><b>3.1</b> Struktura funkcji</a></li>
<li class="chapter" data-level="3.2" data-path="funkcje.html"><a href="funkcje.html#wbudowane-funkcje"><i class="fa fa-check"></i><b>3.2</b> Wbudowane funkcje</a></li>
<li class="chapter" data-level="3.3" data-path="funkcje.html"><a href="funkcje.html#kolejnosc-funkcji"><i class="fa fa-check"></i><b>3.3</b> Kolejność wykonywania funkcji</a></li>
<li class="chapter" data-level="3.4" data-path="funkcje.html"><a href="funkcje.html#dokumentacja-funkcji"><i class="fa fa-check"></i><b>3.4</b> Dokumentacja funkcji</a></li>
<li class="chapter" data-level="3.5" data-path="funkcje.html"><a href="funkcje.html#pakiety"><i class="fa fa-check"></i><b>3.5</b> Pakiety</a></li>
<li class="chapter" data-level="3.6" data-path="funkcje.html"><a href="funkcje.html#algorytmy"><i class="fa fa-check"></i><b>3.6</b> Algorytmy</a></li>
<li class="chapter" data-level="3.7" data-path="funkcje.html"><a href="funkcje.html#tworzenie-skryptow"><i class="fa fa-check"></i><b>3.7</b> Tworzenie skryptów</a></li>
<li class="chapter" data-level="3.8" data-path="funkcje.html"><a href="funkcje.html#budowanie-funkcji"><i class="fa fa-check"></i><b>3.8</b> Budowanie funkcji</a></li>
<li class="chapter" data-level="3.9" data-path="funkcje.html"><a href="funkcje.html#komunikaty"><i class="fa fa-check"></i><b>3.9</b> Komunikaty</a></li>
<li class="chapter" data-level="3.10" data-path="funkcje.html"><a href="funkcje.html#zadania-2"><i class="fa fa-check"></i><b>3.10</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="warunki.html"><a href="warunki.html"><i class="fa fa-check"></i><b>4</b> Wyrażenia warunkowe</a><ul>
<li class="chapter" data-level="4.1" data-path="warunki.html"><a href="warunki.html#warunki-1"><i class="fa fa-check"></i><b>4.1</b> Warunki</a></li>
<li class="chapter" data-level="4.2" data-path="warunki.html"><a href="warunki.html#warunki-zagniezdzone"><i class="fa fa-check"></i><b>4.2</b> Warunki zagnieżdzone</a></li>
<li class="chapter" data-level="4.3" data-path="warunki.html"><a href="warunki.html#operatory-porownania"><i class="fa fa-check"></i><b>4.3</b> Operatory porównania</a></li>
<li class="chapter" data-level="4.4" data-path="warunki.html"><a href="warunki.html#wwwf"><i class="fa fa-check"></i><b>4.4</b> Wyrażenia warunkowe w funkcjach</a></li>
<li class="chapter" data-level="4.5" data-path="warunki.html"><a href="warunki.html#zadania-3"><i class="fa fa-check"></i><b>4.5</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="proste-obiekty.html"><a href="proste-obiekty.html"><i class="fa fa-check"></i><b>5</b> Proste obiekty</a><ul>
<li class="chapter" data-level="5.1" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wektory"><i class="fa fa-check"></i><b>5.1</b> Wektory</a></li>
<li class="chapter" data-level="5.2" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wasciwosci-wektorow"><i class="fa fa-check"></i><b>5.2</b> Właściwości wektorów</a></li>
<li class="chapter" data-level="5.3" data-path="proste-obiekty.html"><a href="proste-obiekty.html#pf-vector"><i class="fa fa-check"></i><b>5.3</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="5.4" data-path="proste-obiekty.html"><a href="proste-obiekty.html#dzialania-na-wektorach"><i class="fa fa-check"></i><b>5.4</b> Działania na wektorach</a></li>
<li class="chapter" data-level="5.5" data-path="proste-obiekty.html"><a href="proste-obiekty.html#na"><i class="fa fa-check"></i><b>5.5</b> Brakujące wartości</a></li>
<li class="chapter" data-level="5.6" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wydzielanie"><i class="fa fa-check"></i><b>5.6</b> Wydzielanie</a></li>
<li class="chapter" data-level="5.7" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wip-vector"><i class="fa fa-check"></i><b>5.7</b> Wydzielanie i przypisanie</a></li>
<li class="chapter" data-level="5.8" data-path="proste-obiekty.html"><a href="proste-obiekty.html#mo-vector"><i class="fa fa-check"></i><b>5.8</b> Modyfikowanie obiektów</a></li>
<li class="chapter" data-level="5.9" data-path="proste-obiekty.html"><a href="proste-obiekty.html#lpto-vector"><i class="fa fa-check"></i><b>5.9</b> Łączenie podstawowych typów obiektów</a></li>
<li class="chapter" data-level="5.10" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zmiana-typow-obiektow"><i class="fa fa-check"></i><b>5.10</b> Zmiana typów obiektów</a></li>
<li class="chapter" data-level="5.11" data-path="proste-obiekty.html"><a href="proste-obiekty.html#fac"><i class="fa fa-check"></i><b>5.11</b> Wektory czynnikowe</a></li>
<li class="chapter" data-level="5.12" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ate"><i class="fa fa-check"></i><b>5.12</b> Wektory dat</a></li>
<li class="chapter" data-level="5.13" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ime"><i class="fa fa-check"></i><b>5.13</b> Wektory czasu</a></li>
<li class="chapter" data-level="5.14" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zadania-4"><i class="fa fa-check"></i><b>5.14</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tekst.html"><a href="tekst.html"><i class="fa fa-check"></i><b>6</b> Tekst</a><ul>
<li class="chapter" data-level="6.1" data-path="tekst.html"><a href="tekst.html#aczenie-tekstu"><i class="fa fa-check"></i><b>6.1</b> Łączenie tekstu</a></li>
<li class="chapter" data-level="6.2" data-path="tekst.html"><a href="tekst.html#postawowe-operacje-na-tekscie"><i class="fa fa-check"></i><b>6.2</b> Postawowe operacje na tekście</a></li>
<li class="chapter" data-level="6.3" data-path="tekst.html"><a href="tekst.html#wydzielanie-tekstu"><i class="fa fa-check"></i><b>6.3</b> Wydzielanie tekstu</a></li>
<li class="chapter" data-level="6.4" data-path="tekst.html"><a href="tekst.html#wyrazenia-regularne"><i class="fa fa-check"></i><b>6.4</b> Wyrażenia regularne</a></li>
<li class="chapter" data-level="6.5" data-path="tekst.html"><a href="tekst.html#wydzielanie-tekstu---regex"><i class="fa fa-check"></i><b>6.5</b> Wydzielanie tekstu - regex</a></li>
<li class="chapter" data-level="6.6" data-path="tekst.html"><a href="tekst.html#zamiana-tekstu---regex"><i class="fa fa-check"></i><b>6.6</b> Zamiana tekstu - regex</a></li>
<li class="chapter" data-level="6.7" data-path="tekst.html"><a href="tekst.html#wyszukiwanie-plikow"><i class="fa fa-check"></i><b>6.7</b> Wyszukiwanie plików</a></li>
<li class="chapter" data-level="6.8" data-path="tekst.html"><a href="tekst.html#zadania-5"><i class="fa fa-check"></i><b>6.8</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html"><i class="fa fa-check"></i><b>7</b> Złożone obiekty</a><ul>
<li class="chapter" data-level="7.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#macierze"><i class="fa fa-check"></i><b>7.1</b> Macierze</a><ul>
<li class="chapter" data-level="7.1.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie"><i class="fa fa-check"></i><b>7.1.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.1.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje"><i class="fa fa-check"></i><b>7.1.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.1.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-1"><i class="fa fa-check"></i><b>7.1.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.1.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie"><i class="fa fa-check"></i><b>7.1.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#df"><i class="fa fa-check"></i><b>7.2</b> Ramki danych</a><ul>
<li class="chapter" data-level="7.2.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-1"><i class="fa fa-check"></i><b>7.2.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.2.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-1"><i class="fa fa-check"></i><b>7.2.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.2.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-df"><i class="fa fa-check"></i><b>7.2.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.2.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie-1"><i class="fa fa-check"></i><b>7.2.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#listy"><i class="fa fa-check"></i><b>7.3</b> Listy</a><ul>
<li class="chapter" data-level="7.3.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-2"><i class="fa fa-check"></i><b>7.3.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.3.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-2"><i class="fa fa-check"></i><b>7.3.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.3.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#aczenie-2"><i class="fa fa-check"></i><b>7.3.3</b> Łączenie</a></li>
<li class="chapter" data-level="7.3.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-list"><i class="fa fa-check"></i><b>7.3.4</b> Wydzielanie</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zmiany-klas"><i class="fa fa-check"></i><b>7.4</b> Zmiany klas</a></li>
<li class="chapter" data-level="7.5" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#inne-klasy"><i class="fa fa-check"></i><b>7.5</b> Inne klasy obiektów</a></li>
<li class="chapter" data-level="7.6" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zadania-6"><i class="fa fa-check"></i><b>7.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="petle.html"><a href="petle.html"><i class="fa fa-check"></i><b>8</b> Powtarzanie</a><ul>
<li class="chapter" data-level="8.1" data-path="petle.html"><a href="petle.html#petla-for"><i class="fa fa-check"></i><b>8.1</b> Pętla for</a><ul>
<li class="chapter" data-level="8.1.1" data-path="petle.html"><a href="petle.html#skadnia"><i class="fa fa-check"></i><b>8.1.1</b> Składnia</a></li>
<li class="chapter" data-level="8.1.2" data-path="petle.html"><a href="petle.html#przykad-dziaania"><i class="fa fa-check"></i><b>8.1.2</b> Przykład działania</a></li>
<li class="chapter" data-level="8.1.3" data-path="petle.html"><a href="petle.html#zastosowanie-w-funkcjach"><i class="fa fa-check"></i><b>8.1.3</b> Zastosowanie w funkcjach</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="petle.html"><a href="petle.html#petla-while"><i class="fa fa-check"></i><b>8.2</b> Pętla while</a></li>
<li class="chapter" data-level="8.3" data-path="petle.html"><a href="petle.html#prog-fun"><i class="fa fa-check"></i><b>8.3</b> Programowanie funkcyjne</a></li>
<li class="chapter" data-level="8.4" data-path="petle.html"><a href="petle.html#zadania-7"><i class="fa fa-check"></i><b>8.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i><b>9</b> Wczytywanie i zapisywanie plików</a><ul>
<li class="chapter" data-level="9.1" data-path="io.html"><a href="io.html#folder-roboczy"><i class="fa fa-check"></i><b>9.1</b> Folder roboczy</a></li>
<li class="chapter" data-level="9.2" data-path="io.html"><a href="io.html#wczytywanie-plikow-tekstowych"><i class="fa fa-check"></i><b>9.2</b> Wczytywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.3" data-path="io.html"><a href="io.html#zapisywanie-plikow-tekstowych"><i class="fa fa-check"></i><b>9.3</b> Zapisywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.4" data-path="io.html"><a href="io.html#formaty-r"><i class="fa fa-check"></i><b>9.4</b> Formaty R</a></li>
<li class="chapter" data-level="9.5" data-path="io.html"><a href="io.html#arkusze-kalkulacyjne"><i class="fa fa-check"></i><b>9.5</b> Arkusze kalkulacyjne</a></li>
<li class="chapter" data-level="9.6" data-path="io.html"><a href="io.html#inne-formaty"><i class="fa fa-check"></i><b>9.6</b> Inne formaty</a></li>
<li class="chapter" data-level="9.7" data-path="io.html"><a href="io.html#dane-internetowe"><i class="fa fa-check"></i><b>9.7</b> Dane internetowe</a></li>
<li class="chapter" data-level="9.8" data-path="io.html"><a href="io.html#dziaania-na-plikach-i-folderach"><i class="fa fa-check"></i><b>9.8</b> Działania na plikach i folderach</a></li>
<li class="chapter" data-level="9.9" data-path="io.html"><a href="io.html#zadania-8"><i class="fa fa-check"></i><b>9.9</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>II Przykłady</b></span></li>
<li class="chapter" data-level="10" data-path="przykad-1.html"><a href="przykad-1.html"><i class="fa fa-check"></i><b>10</b> Przykład 1</a></li>
<li class="part"><span><b>III Narzędzia</b></span></li>
<li class="chapter" data-level="11" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html"><i class="fa fa-check"></i><b>11</b> Złożone funkcje</a><ul>
<li class="chapter" data-level="11.1" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#api"><i class="fa fa-check"></i><b>11.1</b> API</a></li>
<li class="chapter" data-level="11.2" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#zasieg-widocznosci"><i class="fa fa-check"></i><b>11.2</b> Zasięg widoczności</a></li>
<li class="chapter" data-level="11.3" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#obsuga-bedow-ostrzezen-i-wiadomosci"><i class="fa fa-check"></i><b>11.3</b> Obsługa błędów, ostrzeżeń i wiadomości</a></li>
<li class="chapter" data-level="11.4" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#programowanie-obiektowe"><i class="fa fa-check"></i><b>11.4</b> Programowanie obiektowe</a></li>
<li class="chapter" data-level="11.5" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#testy-jednostkowe"><i class="fa fa-check"></i><b>11.5</b> Testy jednostkowe</a></li>
<li class="chapter" data-level="11.6" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#zadania-9"><i class="fa fa-check"></i><b>11.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="analiza-kodu.html"><a href="analiza-kodu.html"><i class="fa fa-check"></i><b>12</b> Analiza kodu</a><ul>
<li class="chapter" data-level="12.1" data-path="analiza-kodu.html"><a href="analiza-kodu.html#benchmarking"><i class="fa fa-check"></i><b>12.1</b> Benchmarking</a></li>
<li class="chapter" data-level="12.2" data-path="analiza-kodu.html"><a href="analiza-kodu.html#profiling"><i class="fa fa-check"></i><b>12.2</b> Profiling</a></li>
<li class="chapter" data-level="12.3" data-path="analiza-kodu.html"><a href="analiza-kodu.html#zadanie"><i class="fa fa-check"></i><b>12.3</b> Zadanie</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html"><i class="fa fa-check"></i><b>13</b> Kontrola wersji</a><ul>
<li class="chapter" data-level="13.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#git"><i class="fa fa-check"></i><b>13.1</b> Git</a></li>
<li class="chapter" data-level="13.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#git-w-rstudio"><i class="fa fa-check"></i><b>13.2</b> Git w RStudio</a></li>
<li class="chapter" data-level="13.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#github"><i class="fa fa-check"></i><b>13.3</b> GitHub</a></li>
<li class="chapter" data-level="13.4" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#zadania-10"><i class="fa fa-check"></i><b>13.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html"><i class="fa fa-check"></i><b>14</b> Tworzenie pakietów</a><ul>
<li class="chapter" data-level="14.1" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#rozwijanie-pakietu"><i class="fa fa-check"></i><b>14.1</b> Rozwijanie pakietu</a></li>
<li class="chapter" data-level="14.2" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#dokumentacja-funkcji-1"><i class="fa fa-check"></i><b>14.2</b> Dokumentacja funkcji</a></li>
<li class="chapter" data-level="14.3" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zaleznosci"><i class="fa fa-check"></i><b>14.3</b> Zależności</a></li>
<li class="chapter" data-level="14.4" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#dokumentacja-pakietu"><i class="fa fa-check"></i><b>14.4</b> Dokumentacja pakietu</a></li>
<li class="chapter" data-level="14.5" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#licencje"><i class="fa fa-check"></i><b>14.5</b> Licencje</a></li>
<li class="chapter" data-level="14.6" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#publikowanie-pakietow"><i class="fa fa-check"></i><b>14.6</b> Publikowanie pakietów</a></li>
<li class="chapter" data-level="14.7" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zadania-11"><i class="fa fa-check"></i><b>14.7</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="lacznik.html"><a href="lacznik.html"><i class="fa fa-check"></i><b>15</b> Łącznik</a><ul>
<li class="chapter" data-level="15.1" data-path="lacznik.html"><a href="lacznik.html#c"><i class="fa fa-check"></i><b>15.1</b> C++</a></li>
<li class="chapter" data-level="15.2" data-path="lacznik.html"><a href="lacznik.html#python"><i class="fa fa-check"></i><b>15.2</b> Python</a></li>
<li class="chapter" data-level="15.3" data-path="lacznik.html"><a href="lacznik.html#zadania-12"><i class="fa fa-check"></i><b>15.3</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>16</b> Debugowanie</a><ul>
<li class="chapter" data-level="16.1" data-path="debugging.html"><a href="debugging.html#zadania-13"><i class="fa fa-check"></i><b>16.1</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="podsumowanie.html"><a href="podsumowanie.html"><i class="fa fa-check"></i><b>17</b> Podsumowanie</a></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="divider"></li>
<li><a href="https://nowosad.github.io/">Jakub Nowosad</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Elementarz programisty</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="io" class="section level1">
<h1><span class="header-section-number">9</span> Wczytywanie i zapisywanie plików</h1>
<!-- A flat file can be a plain text file or a binary file. In the former case, the files usually contain one record per line -->
<!-- csv better than many! -->
<!-- folder roboczy -->
<div id="folder-roboczy" class="section level2">
<h2><span class="header-section-number">9.1</span> Folder roboczy</h2>
<p>Folder roboczy (ang. <em>working directory</em>) to miejsce na dysku, w którym aktualnie pracujemy.
Folder roboczy można sprawdzić korzystając z funkcji <code>getwd()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()
<span class="co">#&gt; [1] &quot;/home/travis/build/Nowosad/elp&quot;</span></code></pre>
<p>Zmienić folder roboczy można za pomocą skrótu <em>Ctrl+Shift+H</em> w RStudio (inaczej <em>Session -&gt; Set Working Directory -&gt; Choose Directory..</em>) lub też funkcji <code>setwd()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;home/jakub/Documents/elp/&quot;</span>) <span class="co">#unix</span>
<span class="kw">setwd</span>(<span class="st">&quot;C:/Users/jakub/Documenty/elp/&quot;</span>) <span class="co">#windows</span></code></pre>

<div class="rmdinfo">
Ustawienie folderu roboczego ma też miejsce przy tworzeniu nowego lub otwieraniu istniejącego projektu RStudio.
</div>

<p>Folder roboczy jest ważny ponieważ pozwala na korzystanie z względnej ścieżki.
Ścieżka względna oznacza określanie ścieżki pliku w odniesieniu do istniejącego folderu roboczego, podczas, gdy ścieżka bezwzględna opisuje pełne położenie pliku.
Przykładowo, mamy plik <code>dane_meteo.csv</code>, którego pełna ścieżka to <code>home/jakub/Documents/elp/pliki/dane_meteo.csv</code>.
Z poziomu R ten plik jest widoczny zarówno jako <code>home/jakub/Documents/elp/pliki/dane_meteo.csv</code>, ale też w postaci <code>pliki/dane_meteo.csv</code><a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a>.
Używanie ścieżek względnych jest rekomendowane, ponieważ znacząco upraszcza pracę, gdy dane/obliczenia przenosi się pomiędzy różnymi komputerami lub gdy współpracuje się z innymi osobami.
Ścieżki względne są też używane w połączeniu z systemami kontroli wersji (rozdział <a href="kontrola-wersji.html#kontrola-wersji">13</a>).</p>

<div class="rmdinfo">
Ścieżki folderów w systemach Windows są domyślnie rozdzielane ukośnikiem wstecznym (<code>\</code>, ang. <em>backslash</em>), jednak R pozwala także na użycie prawego ukośnika (<code>/</code>, ang. <em>slash</em>).
Prawy ukośnik jest rekomendowany, ponieważ działa on zarówno na Windowsach, jak i komputerach z systemami MacOS czy Linux.
</div>

<!-- footnote with fs and here pacakges -->
</div>
<div id="wczytywanie-plikow-tekstowych" class="section level2">
<h2><span class="header-section-number">9.2</span> Wczytywanie plików tekstowych</h2>
<p>Podstawowym sposobem przechowywania informacji są pliki tekstowe.
Przykładowo, mogą one przechowywać dane w postaci tabelarycznej.
Jednym z najczęściej używanych formatów tekstowych jest CSV (ang. <em>comma-separated values</em>).</p>
<p>Wyobraźmy sobie, że otrzymaliśmy plik tekstowy zawierający wybrane pomiary meteorologiczne dla Poznania oraz Zakopanego w roku 2017.</p>
<pre><code>#&gt; [1] &quot;kod_stacji,nazwa_stacji,rok,miesiac,dzien,tavg,precip,humidity,pressure&quot;
#&gt; [2] &quot;352160330,POZNAŃ,2017,1,1,1.4,0,78,1017.9&quot;                              
#&gt; [3] &quot;352160330,POZNAŃ,2017,1,2,0.1,0,84,1013.1&quot;                              
#&gt; [4] &quot;352160330,POZNAŃ,2017,1,3,0.5,4.8,91.1,1012.1&quot;                          
#&gt; [5] &quot;352160330,POZNAŃ,2017,1,4,1.5,2.3,84.9,996.1&quot;</code></pre>
<p>Zapisaliśmy ten plik jako <code>dane_meteo.csv</code> w podfolderze <code>pliki</code>, więc jego ścieżka względna to <code>&quot;pliki/dane_meteo.csv&quot;</code>.
Po otworzeniu tego pliku w edytorze tekstu widzimy, że pierwszy jego wiersz zawiera nazwy kolumn, a następne wiersze to kolejne obserwacje.
Dodatkowo można zobaczyć, że kolumny rozdzielane są przecinkami (<code>,</code>), natomiast wartości zmiennoprzecinkowe kropkami (<code>.</code>).</p>
<p>Do wczytania tego pliku możemy użyć wbudowanej w R funkcji <code>read.csv()</code>, podając w niej bezwzględną lub względną ścieżkę do pliku.
W poniższych przykładzie dodatkowo ustalono argument <code>stringsAsFactors</code> na <code>FALSE</code>, dzięki czemu kolumny z tekstem nie będą zamieniane na klasę czynnikową<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a>.</p>
<pre class="sourceCode r"><code class="sourceCode r">meteo =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;pliki/dane_meteo.csv&quot;</span>, 
                 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
<span class="kw">str</span>(meteo)
<span class="co">#&gt; &#39;data.frame&#39;:    730 obs. of  9 variables:</span>
<span class="co">#&gt;  $ kod_stacji  : int  352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 ...</span>
<span class="co">#&gt;  $ nazwa_stacji: chr  &quot;POZNAŃ&quot; &quot;POZNAŃ&quot; &quot;POZNAŃ&quot; &quot;POZNAŃ&quot; ...</span>
<span class="co">#&gt;  $ rok         : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...</span>
<span class="co">#&gt;  $ miesiac     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ dzien       : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ tavg        : num  1.4 0.1 0.5 1.5 -3.5 -8.4 -7.9 -7.7 -5.8 -5 ...</span>
<span class="co">#&gt;  $ precip      : num  0 0 4.8 2.3 0 0 2.1 0 0 0 ...</span>
<span class="co">#&gt;  $ humidity    : num  78 84 91.1 84.9 68.3 78.6 82.5 78.5 88.6 75.3 ...</span>
<span class="co">#&gt;  $ pressure    : num  1018 1013 1012 996 1021 ...</span></code></pre>
<p>Oprócz funkcji <code>read.csv()</code> istnieje również funkcja o nazwie <code>read.csv2()</code>.
Pierwsza z nich jest przystosowana do wczytania danych dla których separator kolumn to <code>,</code> a separator dziesiętny to <code>.</code>, druga natomiast jest używana gdy wejściowe dane mają <code>;</code> jak separator kolumn i <code>,</code> jako separator dziesiętny.</p>
<p>Czasem dane tekstowe posiadają inne znaki służące jako separatory, czy też nie posiadają nazw kolumn.
W takich sytuacjach można użyć funkcji <code>read.table()</code>, która zawiera cały szereg argumentów, które można dopasować, aby poprawnie wczytać dane tekstowe.</p>
<pre class="sourceCode r"><code class="sourceCode r">meteo =<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;pliki/dane_meteo.csv&quot;</span>, 
                   <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>,
                   <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(meteo)
<span class="co">#&gt; &#39;data.frame&#39;:    730 obs. of  9 variables:</span>
<span class="co">#&gt;  $ kod_stacji  : int  352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 ...</span>
<span class="co">#&gt;  $ nazwa_stacji: Factor w/ 2 levels &quot;POZNAŃ&quot;,&quot;ZAKOPANE&quot;: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ rok         : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...</span>
<span class="co">#&gt;  $ miesiac     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ dzien       : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ tavg        : num  1.4 0.1 0.5 1.5 -3.5 -8.4 -7.9 -7.7 -5.8 -5 ...</span>
<span class="co">#&gt;  $ precip      : num  0 0 4.8 2.3 0 0 2.1 0 0 0 ...</span>
<span class="co">#&gt;  $ humidity    : num  78 84 91.1 84.9 68.3 78.6 82.5 78.5 88.6 75.3 ...</span>
<span class="co">#&gt;  $ pressure    : num  1018 1013 1012 996 1021 ...</span></code></pre>

<div class="rmdinfo">
R posiada kilka dodatkowych funkcji pozwalających na odczytywanie plików tekstowych, tj. <code>read.delim()</code>, <code>read.delim2()</code>, <code>read.fwf()</code>, czy <code>readLines()</code>.
Funkcje <code>read.delim()</code> oraz <code>read.delim2()</code> są odpowiednikami <code>read.csv()</code> i <code>read.csv2()</code> dla plików, gdzie kolejne zmienne są oddzielane tabulatorami.
Funkcja <code>read.fwf()</code> służy do odczytywania danych o ustalonej długości kolejnych zmiennych.
Funkcja <code>readLines()</code> wczytuje kolejne linie z pliku tekstowego.
Efektem jej działania w przeciwieństwie do poprzednich funkcji nie jest ramka danych, ale wektor tekstowy, gdzie każdy kolejny element wektora to tekst z kolejnych linii.
</div>

</div>
<div id="zapisywanie-plikow-tekstowych" class="section level2">
<h2><span class="header-section-number">9.3</span> Zapisywanie plików tekstowych</h2>
<p>Plik <code>pliki/dane_meteo.csv</code> zawiera pomiary ze stacji Poznań oraz Zakopane.
W przypadku, gdy interesują nas tylko informacje dla Poznania możemy wydzielić odpowiednie wiersze używając funkcji <code>subset()</code> (sekcja <a href="zlozone-obiekty.html#wydzielanie-df">7.2.3</a>).</p>
<pre class="sourceCode r"><code class="sourceCode r">meteo_pzn =<span class="st"> </span><span class="kw">subset</span>(meteo, nazwa_stacji <span class="op">==</span><span class="st"> &quot;POZNAŃ&quot;</span>)
<span class="kw">str</span>(meteo_pzn)
<span class="co">#&gt; &#39;data.frame&#39;:    365 obs. of  9 variables:</span>
<span class="co">#&gt;  $ kod_stacji  : int  352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 ...</span>
<span class="co">#&gt;  $ nazwa_stacji: Factor w/ 2 levels &quot;POZNAŃ&quot;,&quot;ZAKOPANE&quot;: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ rok         : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...</span>
<span class="co">#&gt;  $ miesiac     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ dzien       : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ tavg        : num  1.4 0.1 0.5 1.5 -3.5 -8.4 -7.9 -7.7 -5.8 -5 ...</span>
<span class="co">#&gt;  $ precip      : num  0 0 4.8 2.3 0 0 2.1 0 0 0 ...</span>
<span class="co">#&gt;  $ humidity    : num  78 84 91.1 84.9 68.3 78.6 82.5 78.5 88.6 75.3 ...</span>
<span class="co">#&gt;  $ pressure    : num  1018 1013 1012 996 1021 ...</span></code></pre>
<p>Następnie możemy zapisać obiekt <code>meteo_pzn</code> do nowego pliku używając funkcji <code>write.csv()</code><a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>, poprzez podanie nazwy obiektu do zapisania oraz ścieżki zapisu wynikowego pliku.
Dodatkowo możliwe jest pominięcie zapisania nazw wierszy (<code>row.names = FALSE</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(meteo_pzn,
          <span class="dt">file =</span> <span class="st">&quot;pliki/dane_meteo_pzn.csv&quot;</span>,
          <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</code></pre>

<div class="rmdinfo">
Funkcje <code>read.csv()</code> czy <code>write.csv()</code> są domyślnie dostępne w języku R.
Ich wydajność nie jest niestety najlepsza w przypadku plików tekstowych o dużej wielkości.
W takich przypadkach warto użyć alternatywnych funkcji, np. <code>read_csv()</code> i <code>write_csv()</code> z pakietu <strong>readr</strong> <span class="citation">(Wickham, Hester, and Francois <a href="#ref-R-readr">2018</a>)</span> lub <code>fread()</code> i <code>fwrite()</code> z pakietu <strong>data.table</strong> <span class="citation">(Dowle and Srinivasan <a href="#ref-R-data.table">2019</a>)</span>.
</div>

</div>
<div id="formaty-r" class="section level2">
<h2><span class="header-section-number">9.4</span> Formaty R</h2>
<!-- info about binary -->
<p>Formaty tekstowe są bardzo uniwersalne pozwalając na odczyt, zapis czy przenoszenie danych pomiędzy różnymi komputerami, programami czy językami programowania.
Mają one jednak pewne ograniczenia.
Wielkość pliku tekstowego rośnie bardzo szybko wraz z liczbą elementów, a plik tekstowy nie przechowuje dodatkowych informacji specyficznych dla języków programowania.
Wczytanie czy zapis dużego pliku tekstowego zabiera też relatywnie dużo czasu.</p>
<p>Przykładowo, chcemy aby kolumna <code>nazwa_stacji</code> była reprezentowana jako wektor czynnikowy.</p>
<pre class="sourceCode r"><code class="sourceCode r">meteo<span class="op">$</span>nazwa_stacji =<span class="st"> </span><span class="kw">as.factor</span>(meteo<span class="op">$</span>nazwa_stacji)
<span class="kw">str</span>(meteo)
<span class="co">#&gt; &#39;data.frame&#39;:    730 obs. of  9 variables:</span>
<span class="co">#&gt;  $ kod_stacji  : int  352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 ...</span>
<span class="co">#&gt;  $ nazwa_stacji: Factor w/ 2 levels &quot;POZNAŃ&quot;,&quot;ZAKOPANE&quot;: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ rok         : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...</span>
<span class="co">#&gt;  $ miesiac     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ dzien       : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ tavg        : num  1.4 0.1 0.5 1.5 -3.5 -8.4 -7.9 -7.7 -5.8 -5 ...</span>
<span class="co">#&gt;  $ precip      : num  0 0 4.8 2.3 0 0 2.1 0 0 0 ...</span>
<span class="co">#&gt;  $ humidity    : num  78 84 91.1 84.9 68.3 78.6 82.5 78.5 88.6 75.3 ...</span>
<span class="co">#&gt;  $ pressure    : num  1018 1013 1012 996 1021 ...</span></code></pre>
<p>W przypadku zapisania nowego obiektu do pliku tekstowego ta informacja zostanie utracona.
Alternatywnie, jeżeli chcemy używać tych danych tylko w języku R możemy zapisać je do pliku w binarnym formacie RDS.
Taki zapis można wykonać używając funkcji <code>saveRDS()</code> podając nazwę obiektu do zapisu oraz ścieżkę do nowego pliku.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">saveRDS</span>(meteo, <span class="dt">file =</span> <span class="st">&quot;pliki/dane_meteo.rds&quot;</span>)</code></pre>
<p>Taki plik będzie domyślnie mniejszy (nastąpi jego kompresja przy zapisie) niż tekstowy i będzie posiadał on wszelkie informacje o klasie tego obiektu.
Ponowne wczytanie obiektu można wykonać używając funkcji <code>readRDS()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">meteo_rds =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;pliki/dane_meteo.rds&quot;</span>)
<span class="kw">str</span>(meteo_rds)
<span class="co">#&gt; &#39;data.frame&#39;:    730 obs. of  9 variables:</span>
<span class="co">#&gt;  $ kod_stacji  : int  352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 352160330 ...</span>
<span class="co">#&gt;  $ nazwa_stacji: Factor w/ 2 levels &quot;POZNAŃ&quot;,&quot;ZAKOPANE&quot;: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ rok         : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...</span>
<span class="co">#&gt;  $ miesiac     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ dzien       : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ tavg        : num  1.4 0.1 0.5 1.5 -3.5 -8.4 -7.9 -7.7 -5.8 -5 ...</span>
<span class="co">#&gt;  $ precip      : num  0 0 4.8 2.3 0 0 2.1 0 0 0 ...</span>
<span class="co">#&gt;  $ humidity    : num  78 84 91.1 84.9 68.3 78.6 82.5 78.5 88.6 75.3 ...</span>
<span class="co">#&gt;  $ pressure    : num  1018 1013 1012 996 1021 ...</span></code></pre>
<p>Powyżej można zobaczyć, że została zachowana wcześniejsza zmiana - kolumna <code>nazwa_stacji</code> nadal jest reprezentowana poprzez wektor czynnikowy.</p>

<div class="rmdinfo">
Dodatkowo możliwe jest zapisywanie wielu obiektów do jednego pliku w formacie o rozszerzeniu <code>.rda</code> a następnie ich odczytanie używając wbudowanych funkcji <code>save()</code> i <code>load()</code>.
</div>

<p>Pakiety to zorganizowany zbiór funkcji rozszerzający możliwości R (sekcja <a href="funkcje.html#pakiety">3.5</a>).
Istotnym elementem każdego pakietu jest jego dokumentacja, która ułatwia użytkownikom zrozumienie i wykorzystanie możliwości danego pakietu.
Często, aby pokazać szczegółowo działanie danej funkcji wykorzystywane są przykładowe dane, które można dołączyć do pakietu.</p>
<p>Przykładowo, wraz z R domyślnie instalowany jest pakiet o nazwie <strong>datasets</strong>.
Aby wyświetlić listę zbiorów danych w tym pakiecie można użyć funkcji <code>data()</code> i podać w niej nazwę konkretnego pakietu.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">&quot;datasets&quot;</span>)</code></pre>
<p>Wczytanie zbioru danych z wybranego pakietu odbywa się poprzez wybór nazwy zbioru (np. <code>&quot;faithful&quot;</code>) oraz nazwy pakietu <code>&quot;datasets&quot;</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;faithful&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;datasets&quot;</span>)</code></pre>
<p>Po wykonaniu tej funkcji zbiór danych jest dostępny z poziomu R.
Zawiera on ramkę danych z dwoma kolumnami opisującymi gejzer Old Faithful (rycina <a href="io.html#fig:faithful">9.1</a>): <code>eruptions</code> - czas erupcji oraz <code>waiting</code> - czas oczekiwania na kolejną erupcję.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(faithful)
<span class="co">#&gt;   eruptions waiting</span>
<span class="co">#&gt; 1      3.60      79</span>
<span class="co">#&gt; 2      1.80      54</span>
<span class="co">#&gt; 3      3.33      74</span>
<span class="co">#&gt; 4      2.28      62</span>
<span class="co">#&gt; 5      4.53      85</span>
<span class="co">#&gt; 6      2.88      55</span></code></pre>
<div class="figure" style="text-align: center"><span id="fig:faithful"></span>
<img src="images/old-faithful.jpg" alt="Obraz Alberta Bierstadta przedstawiający gejzer Old Faithful około roku 1881. Źródło: [Wikipedia](https://commons.wikimedia.org/wiki/File:Bierstadt_Albert_Old_Faithful.jpg)." width="100%" />
<p class="caption">
Rycina 9.1: Obraz Alberta Bierstadta przedstawiający gejzer Old Faithful około roku 1881. Źródło: <a href="https://commons.wikimedia.org/wiki/File:Bierstadt_Albert_Old_Faithful.jpg">Wikipedia</a>.
</p>
</div>
</div>
<div id="arkusze-kalkulacyjne" class="section level2">
<h2><span class="header-section-number">9.5</span> Arkusze kalkulacyjne</h2>
<p>Powszechnym sposobem przechowywania danych tabelarycznych są arkusze kalkulacyjne tworzone w programie Microsoft Excel.
Tego typu dane można wczytać do R używając pakietu <strong>readxl</strong> <span class="citation">(Wickham and Bryan <a href="#ref-R-readxl">2019</a>)</span>.
Główną funkcją tego pakietu jest <code>read_excel()</code>, przyjmująca ścieżkę pliku do wczytania.
Dodatkowe argumenty tej funkcji pozwalają, np. na zdefiniowanie arkusza do wczytania (<code>sheet</code>) czy zasięgu komórek (<code>range</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readxl)
meteo_z_xl =<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;pliki/dane_meteo.xlsx&quot;</span>)
<span class="kw">head</span>(meteo_z_xl)
<span class="co">#&gt; # A tibble: 6 x 9</span>
<span class="co">#&gt;   kod_stacji nazwa_stacji   rok miesiac dzien  tavg precip humidity</span>
<span class="co">#&gt;        &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1  352160330 POZNAŃ        2017       1     1   1.4    0       78  </span>
<span class="co">#&gt; 2  352160330 POZNAŃ        2017       1     2   0.1    0       84  </span>
<span class="co">#&gt; 3  352160330 POZNAŃ        2017       1     3   0.5    4.8     91.1</span>
<span class="co">#&gt; 4  352160330 POZNAŃ        2017       1     4   1.5    2.3     84.9</span>
<span class="co">#&gt; 5  352160330 POZNAŃ        2017       1     5  -3.5    0       68.3</span>
<span class="co">#&gt; 6  352160330 POZNAŃ        2017       1     6  -8.4    0       78.6</span>
<span class="co">#&gt; # … with 1 more variable: pressure &lt;dbl&gt;</span></code></pre>
<p>Do zapisania ramki danych do formatu Excel można użyć funkcji <code>write_xlsx()</code> z pakietu <strong>writexl</strong> <span class="citation">(Ooms <a href="#ref-R-writexl">2018</a>)</span><a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a>.</p>
<!-- block problemy z excelem jak daty -->
</div>
<div id="inne-formaty" class="section level2">
<h2><span class="header-section-number">9.6</span> Inne formaty</h2>
<p>Powyżej można było zobaczyć jaki sposób można wczytać dane z różnorodnych plików tekstowych, R, czy arkuszy kalkulacyjnych.
R pozwala jednocześnie na otworzenie wielu innych formatów plików używając dodatkowych pakietów.
Przykładowo, hierarchiczne formaty danych można wczytać używając pakietu <strong>jsonline</strong> (format <code>.json</code>) <span class="citation">(Ooms, Temple Lang, and Hilaiel <a href="#ref-R-jsonlite">2018</a>)</span> czy <strong>xml2</strong> (format <code>.xml</code>) <span class="citation">(Wickham, Hester, and Ooms <a href="#ref-R-xml2">2018</a>)</span>, a formaty danych przestrzennych używając pakietu <strong>sf</strong> (dane wektorowe) <span class="citation">(Pebesma <a href="#ref-R-sf">2019</a>)</span> czy <strong>raster</strong> (dane rastrowe) <span class="citation">(Hijmans <a href="#ref-R-raster">2019</a>)</span>.
Zestawienie zawierające dodatkowe przykłady można znaleźć pod adresem <a href="https://github.com/leeper/rio" class="uri">https://github.com/leeper/rio</a>.</p>
<p>Powszechną sytuacją jest przechowywanie danych w różnego rodzaju bazach danych.
Ma to miejsce, kiedy dane są znacznej wielkości, mają złożone relacje, czy też muszą być jednocześnie dostępne dla wielu osób.
Dostęp do baz danych w R możliwy jest używając pakietu <strong>DBI</strong> <span class="citation">(R Special Interest Group on Databases (R-SIG-DB), Wickham, and Müller <a href="#ref-R-DBI">2018</a>)</span> wraz z dodatkowym pakietem dla konkretnego systemu bazodanowego (np. <strong>RPostgreSQL</strong> dla baz PostgreSQL <span class="citation">(Conway et al. <a href="#ref-R-RPostgreSQL">2017</a>)</span> czy <strong>RSQLite</strong> dla baz SQLite <span class="citation">(Müller et al. <a href="#ref-R-RSQLite">2018</a>)</span>).<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a></p>
</div>
<div id="dane-internetowe" class="section level2">
<h2><span class="header-section-number">9.7</span> Dane internetowe</h2>
<p>Pliki, które chcemy otworzyć nie muszą od razu znajdować się na dysku naszego komputera.
Możliwe jest, między innymi, pobranie ich z poziomu R za pomocą funkcji <code>download.file()</code><a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a>.
Należy w niej podać adres URL pliku do pobrania, oraz nazwę pliku do zapisania.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">download.file</span>(<span class="st">&quot;https://raw.githubusercontent.com/Nowosad/elp/master/pliki/dane_meteo.csv&quot;</span>, 
              <span class="dt">destfile =</span> <span class="st">&quot;pliki/dane_meteo_url.csv&quot;</span>)</code></pre>
<p>W efekcie plik <code>dane_meteo_url.csv</code> zostanie zapisany w folderze <code>pliki</code>.
Funkcja <code>download.file()</code> ma też szereg dodatkowych argumentów, między innymi <code>method</code> określającą metodę pobierania danych oraz <code>mode</code> określający sposób zapisu pliku.</p>
</div>
<div id="dziaania-na-plikach-i-folderach" class="section level2">
<h2><span class="header-section-number">9.8</span> Działania na plikach i folderach</h2>
<p>Z poziomu R możliwe jest również zarządzanie folderami i plikami na dysku.
Do tworzenia nowych folderów służy funkcja <code>dir.create()</code>, np. <code>dir.create(&quot;dane&quot;)</code> stworzy nowy podfolder o nazwie <code>&quot;dane&quot;</code>.
Sprawdzenie czy folder już istnieje możliwe jest używając funkcji <code>dir.exists()</code>, np. <code>dir.exists(&quot;dane&quot;)</code>, która zwraca wartość <code>TRUE</code> gdy folder o tej nazwie istnieje lub <code>FALSE</code> gdy takiego folderu nie ma.
Do usuwania istniejących folderów służy funkcja <code>unlink()</code>.
W jej przypadku konieczne jest podanie, oprócz nazwy folder do usunięcia, argumentu <code>recursive = TRUE</code>.
Przykładowo, aby usunąć folder <code>&quot;dane&quot;</code> należy wpisać <code>unlink(&quot;dane&quot;, recursive = TRUE)</code>.</p>
<p>Sprawdzenie czy plik istnieje na dysku można wykonać używając <code>file.exist()</code>, a usunąć go za pomocą <code>file.remove()</code>.
Obie funkcje przyjmują jako wejście wektor znakowy zawierający nazwy plików do sprawdzenia czy usunięcia.</p>
<p>W przypadkach, gdy konieczne jest stworzenie nowego archiwum ZIP lub rozpakowanie istniejącego pliku w tym formacie można użyć funkcji <code>zip()</code> oraz <code>unzip()</code><a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a>.</p>
</div>
<div id="zadania-8" class="section level2">
<h2><span class="header-section-number">9.9</span> Zadania</h2>
<!-- wczytaj jeden format, zapisz inny -->
<!-- automatycznie wczytaj dwa pliki -->
<!-- wczytaj, zamien, zapisz -->
<!-- napisz funkcje do zamiany -->
<!-- pobierz, zamien, zapisz, usun stary plik -->

</div>
</div>



<h3>Bibliografia</h3>
<div id="refs" class="references">
<div id="ref-R-readr">
<p>Wickham, Hadley, Jim Hester, and Romain Francois. 2018. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr" class="uri">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
<div id="ref-R-data.table">
<p>Dowle, Matt, and Arun Srinivasan. 2019. <em>Data.table: Extension of ‘Data.frame‘</em>. <a href="https://CRAN.R-project.org/package=data.table" class="uri">https://CRAN.R-project.org/package=data.table</a>.</p>
</div>
<div id="ref-R-readxl">
<p>Wickham, Hadley, and Jennifer Bryan. 2019. <em>Readxl: Read Excel Files</em>. <a href="https://CRAN.R-project.org/package=readxl" class="uri">https://CRAN.R-project.org/package=readxl</a>.</p>
</div>
<div id="ref-R-writexl">
<p>Ooms, Jeroen. 2018. <em>Writexl: Export Data Frames to Excel ’Xlsx’ Format</em>. <a href="https://CRAN.R-project.org/package=writexl" class="uri">https://CRAN.R-project.org/package=writexl</a>.</p>
</div>
<div id="ref-R-jsonlite">
<p>Ooms, Jeroen, Duncan Temple Lang, and Lloyd Hilaiel. 2018. <em>Jsonlite: A Robust, High Performance Json Parser and Generator for R</em>. <a href="https://CRAN.R-project.org/package=jsonlite" class="uri">https://CRAN.R-project.org/package=jsonlite</a>.</p>
</div>
<div id="ref-R-xml2">
<p>Wickham, Hadley, James Hester, and Jeroen Ooms. 2018. <em>Xml2: Parse Xml</em>. <a href="https://CRAN.R-project.org/package=xml2" class="uri">https://CRAN.R-project.org/package=xml2</a>.</p>
</div>
<div id="ref-R-sf">
<p>Pebesma, Edzer. 2019. <em>Sf: Simple Features for R</em>. <a href="https://CRAN.R-project.org/package=sf" class="uri">https://CRAN.R-project.org/package=sf</a>.</p>
</div>
<div id="ref-R-raster">
<p>Hijmans, Robert J. 2019. <em>Raster: Geographic Data Analysis and Modeling</em>. <a href="https://www.rspatial.org/" class="uri">https://www.rspatial.org/</a>.</p>
</div>
<div id="ref-R-DBI">
<p>R Special Interest Group on Databases (R-SIG-DB), Hadley Wickham, and Kirill Müller. 2018. <em>DBI: R Database Interface</em>. <a href="https://CRAN.R-project.org/package=DBI" class="uri">https://CRAN.R-project.org/package=DBI</a>.</p>
</div>
<div id="ref-R-RPostgreSQL">
<p>Conway, Joe, Dirk Eddelbuettel, Tomoaki Nishiyama, Sameer Kumar Prayaga, and Neil Tiffin. 2017. <em>RPostgreSQL: R Interface to the ’Postgresql’ Database System</em>. <a href="https://CRAN.R-project.org/package=RPostgreSQL" class="uri">https://CRAN.R-project.org/package=RPostgreSQL</a>.</p>
</div>
<div id="ref-R-RSQLite">
<p>Müller, Kirill, Hadley Wickham, David A. James, and Seth Falcon. 2018. <em>RSQLite: ’SQLite’ Interface for R</em>. <a href="https://CRAN.R-project.org/package=RSQLite" class="uri">https://CRAN.R-project.org/package=RSQLite</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="35">
<li id="fn35"><p>Jeżeli poprawnie ustawiliśmy folder roboczy.<a href="io.html#fnref35" class="footnote-back">↩</a></p></li>
<li id="fn36"><p>Takie defensywne zachowanie może oszczędzić pewnych problemów w przyszłości.<a href="io.html#fnref36" class="footnote-back">↩</a></p></li>
<li id="fn37"><p>Istnieje również jej odpowiednik <code>write.csv2()</code>.<a href="io.html#fnref37" class="footnote-back">↩</a></p></li>
<li id="fn38"><p>Po więcej informacji otwórz plik pomocy tej funkcji <code>?write_xlsx()</code>.<a href="io.html#fnref38" class="footnote-back">↩</a></p></li>
<li id="fn39"><p>Więcej informacji o łączeniu się z bazami danych można znaleść na stronie <a href="https://db.rstudio.com/getting-started/connect-to-database" class="uri">https://db.rstudio.com/getting-started/connect-to-database</a>.<a href="io.html#fnref39" class="footnote-back">↩</a></p></li>
<li id="fn40"><p>Funkcje takie jak <code>read.csv()</code> pozwalają na otworzenie pliku tekstowego bezpośrednio z adresu internetowego.<a href="io.html#fnref40" class="footnote-back">↩</a></p></li>
<li id="fn41"><p>Na komputerach z systemem Windows wymagane jest posiadanie zainstalowanego programu do rozpakowywania plików ZIP.<a href="io.html#fnref41" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="petle.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="przykad-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Nowosad/my-minimal-bookdown/edit/master/09-io.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["wstep_do_progr_w_r_nowosad_2019.pdf", "wstep_do_progr_w_r_nowosad_2019.epub"],
"toc": {
"collapse": "section"
},
"includes": {
"in_header": "ga.html"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
