# Złożone obiekty {#zlozone-obiekty}

## Macierze

Macierze (ang. *matrix*), podobnie jak wektory, są obiektami homogenicznymi - jedna macierz może przyjmować dane tylko jednego typu.
<!-- ref to arrays -->

### Tworzenie

```{r}
macierz1 = matrix(1:12, ncol = 3, nrow = 4)
macierz1
```

```{r}
macierz2 = matrix(1:12, ncol = 3, nrow = 4, byrow = TRUE)
macierz2
```

<!-- Macierze używane są ... zastosowania. -->
<!-- ref to rasters -->

### Podstawowe funkcje

```{r}
str(macierz2)
```

```{r}
typeof(macierz2)
```

```{r}
ncol(macierz2)
```

```{r}
nrow(macierz2)
```

```{r}
colnames(macierz2)
```

```{r}
colnames(macierz2) = c("a", "b", "c")
macierz2
colnames(macierz2)
```

<!-- `rownames()` - info about problems with rownames (block) -->

### Łączenie

```{r}
macierz3 = cbind(macierz1, macierz2)
macierz3
```

```{r}
macierz4 = rbind(macierz1, macierz2)
macierz4
```

### Wydzielanie

Podobnie jak w przypadku wektorów (\@ref(proste-obiekty)), macierze można wydzielać używając operatora `[]`.
W tym wypadku odbywa się to jednak na w oparciu o dwa indeksy - jeden dla wiersza, drugi dla kolumny - `[wiersz, kolumna]`.

```{r}
macierz4[c(1, 8), c(1, 3)]
```

```{r}
macierz4[c(1, 8), ]
```

```{r}
macierz4[, c(1, 3)]
```

```{r}
macierz4[, c(TRUE, FALSE, TRUE)]
```

```{r}
macierz4[, c("a", "c")]
```

<!-- ref to wektory -->
<!-- block - też prosty wektor i macierz -->

## Ramki danych

Ramki danych (ang. *data frame*) mają dużo podobieństw z macierzami. 
Są to obiekty dwuwymiarowe, składające się z kolumn i wierszy. 
Główną różnicą pomiędzy macierzą a ramką danych jest to, że pierwsza z nich przyjmuje tylko dane jednego typu, podczas gdy druga może się składać z danych róznych typów.

Ramka danych jest zbudowana z kolumn (wektorów) o równej długości.
<!-- a data frame is a list of equal-length vectors -->
<!-- nested data frames footnote -->

### Tworzenie

```{r}
ramka = data.frame(wek_log = c(TRUE, FALSE),
                   wek_cal = c(5L, -7L), 
                   wek_zmi = c(5.3, -7.1), 
                   wek_zna = c("kot", "pies"),
                   stringsAsFactors = FALSE)
ramka
```

<!-- problem z `stringsAsFactors` -->


### Podstawowe funkcje

```{r}
class(ramka)
```

### Łączenie

`cbind()`, `rbind()`

### Wydzielanie

Do wydzielania elementów z ramki danych może służyć, między innymi, operator `[]`, operator `$` oraz funkcja `subset()`.

Operator `$` pozwala na wybranie zmiennej (kolumny) na podstawie jej nazwy.

W przypadku ramek danych operator `[]` wymaga podania dwóch argumentów - jednego dla wierszy (obserwacji) oraz jednego dla kolumn (zmiennych) - `[wiersze, kolumny]`.

Do wydzielania można wykorzystać operatory logiczne: ==, !=, >, >=, <, <=, &, |.

## Listy

### Tworzenie

```{r}
lista = list(c(TRUE, FALSE), c(5L, -7L), c(5.3), c("kot", "pies", "nosorożec"))
lista
```

<!-- wielopoziomowe listy -->

### Podstawowe funkcje

```{r}
str(lista)
```

### Łączenie

### Wydzielanie

## Własne klasy

<!-- ... -->
<!-- Istnieje ogromna liczba klas obiektów w R -->
<!-- Każdy może stworzyć swoją własną klasę! -->
<!-- Różne funkcje wymagają różnych klas obiektów -->

## Zadania
